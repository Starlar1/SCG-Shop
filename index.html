<meta name='viewport' content='width=device-width, initial-scale=1'/><meta name='viewport' content='width=device-width, initial-scale=1'/><meta name='viewport' content='width=device-width, initial-scale=1'/><meta name='viewport' content='width=device-width, initial-scale=1'/><meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STARLAR Company Game Shop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background-color: #ffffff;
            color: #000000;
            max-width: 500px;
            margin: 0 auto;
            min-height: 100vh;
            padding: 15px 15px 80px;
            background: linear-gradient(135deg, #f8fdff 0%, #e6f7ff 100%);
        }
        
/* /* ခေါင်းစည်းအတွက် စတိုင် */
.header {
    display: flex;
    align-items: center;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 20px;
    background: linear-gradient(135deg, #87CEEB, #00BFFF);
    box-shadow: 0 6px 20px rgba(0, 191, 255, 0.2);
    position: relative;
    overflow: hidden;
}

.logo-container {
    display: flex;
    align-items: center;
    gap: 20px;
    flex: 1;
}

.logo {
    width: 80px;
    height: 80px;
    border-radius: 18px;
    overflow: hidden;
    background: rgba(255, 255, 255, 0.9);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    position: relative;
    z-index: 2;
    border: 2px solid rgba(255, 255, 255, 0.3);
}

.logo:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 25px rgba(0, 191, 255, 0.3);
}

.logo img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 10px;
}

.shop-info {
    flex: 1;
    position: relative;
    z-index: 2;
}

.company-name {
    color: #ffffff;
    font-size: 28px;
    font-weight: 800;
    letter-spacing: 1px;
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
    margin-bottom: 8px;
}

.shop-type {
    color: rgba(255, 255, 255, 0.95);
    font-size: 18px;
    font-weight: 600;
    letter-spacing: 0.5px;
    margin-bottom: 10px;
    display: inline-block;
    padding: 5px 15px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 10px;
    backdrop-filter: blur(5px);
}

.shop-tagline {
    color: rgba(255, 255, 255, 0.9);
    font-size: 14px;
    font-weight: 500;
    line-height: 1.4;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
}

/* ဖုန်းအရွယ်အစားအတွက် ပြင်ဆင်မှု */
@media (max-width: 500px) {
    .header {
        padding: 15px;
        border-radius: 15px;
        margin-bottom: 15px;
    }
    
    .logo {
        width: 65px;
        height: 65px;
        border-radius: 15px;
    }
    
    .company-name {
        font-size: 22px;
        margin-bottom: 6px;
    }
    
    .shop-type {
        font-size: 15px;
        padding: 4px 12px;
    }
    
    .shop-tagline {
        font-size: 12px;
    }
    
    .logo-container {
        gap: 15px;
    }
}

@media (max-width: 400px) {
    .logo {
        width: 55px;
        height: 55px;
        border-radius: 12px;
    }
    
    .company-name {
        font-size: 20px;
    }
    
    .shop-type {
        font-size: 14px;
        padding: 3px 10px;
    }
    
    .shop-tagline {
        font-size: 11px;
    }
}

 
 
        
        .announcement-section {
            width: 100%;
            margin-bottom: 25px;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 8px 25px rgba(0, 191, 255, 0.15);
            background: transparent;
            border: none;
            padding: 0;
        }
        
        .slides-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            overflow: hidden;
            border-radius: 20px;
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.8s ease;
            transform: translateX(100%);
        }
        
        .slide.active {
            opacity: 1;
            transform: translateX(0);
        }
        
        .slide.leaving {
            opacity: 0;
            transform: translateX(-100%);
        }
        
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: #f8fdff;
        }
        
/* ===== GRID ===== */
.grid-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-bottom: 30px;
}

/* ===== CARD ===== */
.server-card {
    background: #ffffff;
    border-radius: 14px;
    overflow: hidden;
    border: 2px solid #87CEEB;
    box-shadow: 0 6px 12px rgba(135, 206, 235, 0.15);
    display: flex;
    flex-direction: column;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.server-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 20px rgba(135, 206, 235, 0.25);
}

/* ===== IMAGE ===== */
.image-container {
    width: 100%;
    flex: 1;              /* ပုံအပေါ်ပိုင်း အပြည့်အသုံး */
    overflow: hidden;
    background: #ffffff;
}

.server-image {
    width: 100%;
    height: 100%;
    object-fit: contain;   /* အချိုးအစားမဖျက်, အပြည့်မြင် */
}

/* ===== TITLE ===== */
.title-container {
    padding: 6px 8px;
    background: linear-gradient(135deg, #E6F4FF, #CCEEFF);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    min-height: 42px; /* စာအတွက် သက်သက်ထား */
}

.server-title {
    font-size: 14px;
    font-weight: 700;
    color: #0077B6;
    line-height: 1.2;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;  /* 2 လိုင်းပြ */
    -webkit-box-orient: vertical;
    word-wrap: break-word;
}

        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #00BFFF, #87CEEB);
            max-width: 500px;
            margin: 0 auto;
            border-radius: 25px 25px 0 0;
            overflow: hidden;
            box-shadow: 0 -8px 25px rgba(0, 191, 255, 0.25);
            z-index: 100;
            border-top: 3px solid rgba(255, 255, 255, 0.9);
        }
        
        .nav-items {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            height: 70px;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: #ffffff;
            font-size: 12px;
            gap: 8px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .nav-item.active {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            font-weight: 700;
        }
        
        .nav-item.active::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 4px;
            background: #ffffff;
            border-radius: 0 0 4px 4px;
            box-shadow: 0 2px 8px rgba(255, 255, 255, 0.6);
        }
        
        .nav-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }
        
        .nav-item:hover::after {
            left: 100%;
        }
        
        .nav-item:active {
            transform: scale(0.95);
        }
        
        .nav-icon {
            font-size: 22px;
            margin-bottom: 2px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }
        
        .nav-item:hover .nav-icon {
            transform: translateY(-4px) scale(1.2);
        }
        
        .nav-text {
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        @media (max-width: 500px) {
            body {
                padding: 12px 12px 80px;
            }
            
            .header {
                padding: 15px;
                border-radius: 15px;
                gap: 12px;
            }
            
            .slides-container {
                padding-top: 56.25%;
                border-radius: 15px;
            }
            
            .grid-container {
                gap: 12px;
            }
            
            .image-container {
                height: 160px;
            }
            
            .title-container {
                padding: 15px 8px;
            }
            
            .server-title {
                font-size: 16px;
            }
            
            .logo {
                width: 60px;
                height: 60px;
            }
            
            .shop-name {
                font-size: 22px;
            }
            
            .shop-tagline {
                font-size: 13px;
            }
            
            .nav-items {
                height: 65px;
            }
            
            .nav-icon {
                font-size: 20px;
            }
            
            .nav-text {
                font-size: 13px;
            }
        }
        
        @media (max-width: 400px) {
            .shop-name {
                font-size: 20px;
            }
            
            .logo {
                width: 55px;
                height: 55px;
            }
            
            .image-container {
                height: 150px;
            }
            
            .server-title {
                font-size: 15px;
            }
        }
        
        /* MLBB MM Page Styles */
#mlbb-mm-page {
    animation: mmFadeIn 0.4s ease;
}

@keyframes mmFadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Top Bar with Back Button */
.mm-top-bar {
    background: linear-gradient(135deg, #00BFFF, #87CEEB);
    padding: 15px 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    border-radius: 15px;
    margin-bottom: 20px;
    box-shadow: 0 4px 15px rgba(0, 191, 255, 0.2);
    position: sticky;
    top: 0;
    z-index: 100;
}

.mm-back-btn {
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    color: white;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.mm-back-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
    border-color: rgba(255, 255, 255, 0.5);
}

.mm-back-btn:active {
    transform: scale(0.95);
}

.mm-back-btn i {
    font-size: 18px;
}

.mm-page-title {
    color: white;
    font-size: 20px;
    font-weight: 700;
    flex: 1;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
}

/* Section Styles */
.mm-section {
    margin-bottom: 25px;
}

.mm-section-header {
    background: linear-gradient(135deg, #E6F4FF, #CCEEFF);
    color: #0077B6;
    padding: 14px 20px;
    border-radius: 15px;
    margin-bottom: 15px;
    font-size: 16px;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 12px;
    border-left: 5px solid #00BFFF;
    box-shadow: 0 3px 10px rgba(0, 191, 255, 0.1);
}

.mm-section-header i {
    color: #00BFFF;
    font-size: 18px;
}

/* 3 Column Grid */
.mm-grid-3 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
}

/* Card Styles */
.mm-card {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    border: 2px solid #E6F4FF;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(135, 206, 235, 0.1);
    position: relative;
    cursor: pointer;
}

.mm-card:hover {
    transform: translateY(-5px);
    border-color: #00BFFF;
    box-shadow: 0 8px 20px rgba(0, 191, 255, 0.15);
}

.mm-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #00BFFF, #87CEEB);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.mm-card:hover::after {
    opacity: 1;
}

.mm-img {
    width: 100%;
    height: 110px;
    object-fit: cover;
    background: #f8fdff;
}

.mm-card-info {
    padding: 12px 8px;
    text-align: center;
    background: linear-gradient(to bottom, #FFFFFF, #F8FDFF);
}

.mm-card-name {
    font-size: 13px;
    font-weight: 700;
    color: #0077B6;
    margin-bottom: 5px;
    line-height: 1.3;
    height: 35px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mm-price {
    font-size: 13px;
    font-weight: 600;
    color: #005D92;
    padding: 4px 8px;
    background: linear-gradient(135deg, #E6F4FF, #CCEEFF);
    border-radius: 20px;
    display: inline-block;
}

/* Responsive */
@media (max-width: 500px) {
    .mm-grid-3 {
        gap: 10px;
    }
    
    .mm-img {
        height: 100px;
    }
    
    .mm-card-name {
        font-size: 12px;
        height: 32px;
    }
    
    .mm-price {
        font-size: 12px;
    }
    
    .mm-top-bar {
        padding: 12px 15px;
    }
    
    .mm-back-btn {
        width: 40px;
        height: 40px;
    }
    
    .mm-page-title {
        font-size: 18px;
    }
}

@media (max-width: 400px) {
    .mm-grid-3 {
        gap: 8px;
    }
    
    .mm-img {
        height: 90px;
    }
    
    .mm-card-name {
        font-size: 11px;
        height: 30px;
    }
    
    .mm-price {
        font-size: 11px;
    }
}
     
/* Order Modal Styles */
.order-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    animation: fadeIn 0.3s ease;
}

.modal-content {
    background: white;
    width: 90%;
    max-width: 400px;
    max-height: 90vh;
    border-radius: 20px;
    overflow: hidden;
    animation: slideUp 0.4s ease;
    display: flex;
    flex-direction: column;
}

@keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal-header {
    background: linear-gradient(135deg, #00BFFF, #87CEEB);
    color: white;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
}

.modal-header h3 {
    font-size: 20px;
    font-weight: 700;
    margin: 0;
}

.close-btn {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    font-size: 24px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.close-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg);
}

.modal-body {
    padding: 20px;
    overflow-y: auto;
    flex: 1;
}

/* Payment Methods */
.payment-methods {
    background: linear-gradient(135deg, #F8FDFF, #E6F4FF);
    border-radius: 15px;
    padding: 15px;
    margin-bottom: 20px;
    border: 2px solid #E6F4FF;
}

.payment-info {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 12px;
    background: white;
    border-radius: 12px;
    margin-bottom: 10px;
    transition: all 0.3s ease;
}

.payment-info:last-child {
    margin-bottom: 0;
}

.payment-info:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 12px rgba(0, 191, 255, 0.1);
}

.payment-info i {
    color: #00BFFF;
    font-size: 24px;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #E6F4FF, #CCEEFF);
    border-radius: 10px;
}

.payment-name {
    font-size: 14px;
    font-weight: 600;
    color: #0077B6;
    margin-bottom: 3px;
}

.payment-number {
    font-size: 16px;
    font-weight: 700;
    color: #005D92;
}

/* Order Summary */
.order-summary {
    background: linear-gradient(135deg, #E6F4FF, #CCEEFF);
    border-radius: 15px;
    padding: 15px;
    margin-bottom: 20px;
    border: 2px solid #87CEEB;
}

.summary-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid rgba(0, 119, 182, 0.1);
}

.summary-item:last-child {
    border-bottom: none;
}

.summary-item span:first-child {
    font-size: 14px;
    font-weight: 600;
    color: #0077B6;
}

.summary-item span:last-child {
    font-size: 16px;
    font-weight: 700;
    color: #005D92;
}

/* Form Styles */
.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
    font-weight: 600;
    color: #0077B6;
    margin-bottom: 8px;
}

.form-group label i {
    color: #00BFFF;
    font-size: 16px;
}

.form-group input {
    width: 100%;
    padding: 14px;
    border: 2px solid #E6F4FF;
    border-radius: 12px;
    font-size: 14px;
    transition: all 0.3s ease;
    background: #F8FDFF;
}

.form-group input:focus {
    outline: none;
    border-color: #00BFFF;
    box-shadow: 0 0 0 3px rgba(0, 191, 255, 0.1);
}

.form-group input::placeholder {
    color: #87CEEB;
}

/* Upload Area */
.upload-area {
    border: 2px dashed #87CEEB;
    border-radius: 12px;
    padding: 25px;
    text-align: center;
    background: #F8FDFF;
    cursor: pointer;
    transition: all 0.3s ease;
}

.upload-area:hover {
    border-color: #00BFFF;
    background: #E6F4FF;
}

.upload-area i {
    font-size: 32px;
    color: #87CEEB;
    margin-bottom: 10px;
}

.upload-area p {
    color: #0077B6;
    font-size: 14px;
    margin: 0;
    font-weight: 500;
}

.upload-tips {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 8px;
    font-size: 12px;
    color: #87CEEB;
    font-style: italic;
}

.upload-tips i {
    color: #00BFFF;
}

/* Image Preview */
#image-preview {
    position: relative;
    margin-top: 15px;
    border-radius: 12px;
    overflow: hidden;
    border: 2px solid #E6F4FF;
}

#preview-img {
    width: 100%;
    max-height: 200px;
    object-fit: cover;
    display: block;
}

.remove-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.6);
    border: none;
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.remove-btn:hover {
    background: rgba(255, 0, 0, 0.8);
    transform: scale(1.1);
}

/* Submit Button */
.submit-btn {
    width: 100%;
    padding: 16px;
    background: linear-gradient(135deg, #00BFFF, #87CEEB);
    color: white;
    border: none;
    border-radius: 15px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 191, 255, 0.3);
    margin-top: 10px;
}

.submit-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 191, 255, 0.4);
}

.submit-btn:active {
    transform: translateY(-1px);
}

.submit-btn i {
    font-size: 20px;
}

/* Scrollbar Styling */
.modal-body::-webkit-scrollbar {
    width: 6px;
}

.modal-body::-webkit-scrollbar-track {
    background: #F8FDFF;
    border-radius: 3px;
}

.modal-body::-webkit-scrollbar-thumb {
    background: #87CEEB;
    border-radius: 3px;
}

.modal-body::-webkit-scrollbar-thumb:hover {
    background: #00BFFF;
}
        
    /* History Page Styles */
#history-page {
    animation: historyFadeIn 0.4s ease;
}

@keyframes historyFadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* History Top Bar */
.history-top-bar {
    background: linear-gradient(135deg, #00BFFF, #87CEEB);
    padding: 15px 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    border-radius: 15px;
    margin-bottom: 20px;
    box-shadow: 0 4px 15px rgba(0, 191, 255, 0.2);
    position: sticky;
    top: 0;
    z-index: 100;
}

.history-back-btn, .history-clear-btn {
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    color: white;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.history-back-btn:hover, .history-clear-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
    border-color: rgba(255, 255, 255, 0.5);
}

.history-back-btn:active, .history-clear-btn:active {
    transform: scale(0.95);
}

.history-back-btn i, .history-clear-btn i {
    font-size: 18px;
}

.history-page-title {
    color: white;
    font-size: 20px;
    font-weight: 700;
    flex: 1;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
    text-align: center;
}

/* History Container */
.history-container {
    margin-bottom: 30px;
}

/* History Card */
.history-card {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    border: 2px solid #87CEEB;
    margin-bottom: 15px;
    box-shadow: 0 6px 15px rgba(135, 206, 235, 0.15);
    transition: all 0.3s ease;
}

.history-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(135, 206, 235, 0.25);
}

.history-header {
    background: linear-gradient(135deg, #E6F4FF, #CCEEFF);
    padding: 15px;
    border-bottom: 2px solid #87CEEB;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.history-item-name {
    font-size: 16px;
    font-weight: 700;
    color: #0077B6;
    flex: 1;
}

.history-price {
    font-size: 16px;
    font-weight: 700;
    color: #005D92;
    background: white;
    padding: 6px 12px;
    border-radius: 20px;
    box-shadow: 0 2px 8px rgba(0, 119, 182, 0.1);
}

.history-body {
    padding: 15px;
}

.history-detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid rgba(135, 206, 235, 0.3);
}

.history-detail-row:last-child {
    border-bottom: none;
}

.history-label {
    font-size: 14px;
    font-weight: 600;
    color: #0077B6;
    display: flex;
    align-items: center;
    gap: 8px;
}

.history-label i {
    color: #00BFFF;
    font-size: 14px;
    width: 20px;
}

.history-value {
    font-size: 14px;
    font-weight: 600;
    color: #005D92;
}

.history-footer {
    background: #F8FDFF;
    padding: 12px 15px;
    border-top: 1px solid #E6F4FF;
}

.history-date {
    font-size: 13px;
    color: #87CEEB;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.history-date i {
    font-size: 14px;
}

/* Empty History State */
.empty-history {
    text-align: center;
    padding: 60px 20px;
}

.empty-history i {
    font-size: 64px;
    color: #87CEEB;
    margin-bottom: 20px;
    opacity: 0.5;
}

.empty-history p {
    font-size: 16px;
    color: #87CEEB;
    font-weight: 600;
}

/* Responsive */
@media (max-width: 500px) {
    .history-top-bar {
        padding: 12px 15px;
    }
    
    .history-back-btn, .history-clear-btn {
        width: 40px;
        height: 40px;
    }
    
    .history-page-title {
        font-size: 18px;
    }
    
    .history-item-name {
        font-size: 15px;
    }
    
    .history-price {
        font-size: 15px;
    }
    
    .history-label, .history-value {
        font-size: 13px;
    }
}

@media (max-width: 400px) {
    .history-header {
        flex-direction: column;
        gap: 10px;
        align-items: flex-start;
    }
    
    .history-price {
        align-self: flex-start;
    }
    
    .history-detail-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
    }
}    
        
    </style>
</head>
<body>
<div class="header">
    <div class="logo-container">
        <div class="logo">
            <img src="https://i.ibb.co/MT6JvJp/Grid-Art-20251229-170005987.png" alt="STARLAR Logo">
        </div>
        <div class="shop-info">
            <div class="company-name">STARLAR COMPANY</div>
            <div class="shop-type">SCG SHOP</div>
            <div class="shop-tagline">ဂိမ်းပစ္စည်းများဝယ်ယူပါ</div>
        </div>
    </div>
</div>
    
    <div class="announcement-section">
        <div class="slides-container">
            <div class="slide active">
                <img src="https://i.ibb.co/x8cF9qXC/Grid-Art-20260101-163154002.jpg" alt="Announcement 1">
            </div>
            <div class="slide">
                <img src="https://i.ibb.co/bM2qq849/Grid-Art-20260101-163640753.jpg" alt="Announcement 2">
            </div>
            <div class="slide">
                <img src="https://i.ibb.co/S7PsQ1fx/Grid-Art-20260101-165504463.jpg" alt="Announcement 3">
            </div>
            <div class="slide">
                <img src="https://i.ibb.co/ZpwLjfYv/Grid-Art-20260101-164522850.png" alt="Announcement 4">
            </div>
        </div>
    </div>
    
    <div class="grid-container">
        <div class="server-card">
            <div class="image-container">
                <img src="https://i.ibb.co/KcxxDpVD/Grid-Art-20251229-164115286.jpg" alt="MLBB MM Server" class="server-image">
            </div>
            <div class="title-container">
                <div class="server-title">MLBB MM Server</div>
            </div>
        </div>
        
        <div class="server-card">
            <div class="image-container">
                <img src="https://i.ibb.co/PGd77VM2/Grid-Art-20251229-165435492.jpg" alt="MLBB SG Server" class="server-image">
            </div>
            <div class="title-container">
                <div class="server-title">MLBB SG Server</div>
            </div>
        </div>
        
        <div class="server-card">
            <div class="image-container">
                <img src="https://i.ibb.co/vvRH8FzS/Grid-Art-20251229-164652200.jpg" alt="MLBB ID Server" class="server-image">
            </div>
            <div class="title-container">
                <div class="server-title">MLBB ID Server</div>
            </div>
        </div>
        
        <div class="server-card">
            <div class="image-container">
                <img src="https://i.ibb.co/bgbt1JwT/Grid-Art-20251229-164623009.jpg" alt="MLBB MA Server" class="server-image">
            </div>
            <div class="title-container">
                <div class="server-title">MLBB MA Server</div>
            </div>
        </div>
        
      <div class="server-card" onclick="openMGGGScreen()" style="cursor: pointer;">
        <div class="image-container">
            <img src="https://i.ibb.co/gF7KLqDH/images.jpg" alt="MCGG Server" class="server-image">
        </div>
        <div class="title-container">
            <div class="server-title">MCGG Diamonds</div>
        </div>
    </div>
    
<div class="server-card" onclick="openPUBGScreen()" style="cursor: pointer;">
    <div class="image-container">
        <img src="https://i.ibb.co/QF1t3tcT/f9aaaed50daca209a9196fd7ab341f4c.jpg" alt="PUBG UC Server" class="server-image">
    </div>
    <div class="title-container">
        <div class="server-title">PUBG Game UC </div>
    </div>
</div>

</div>
    
    
    
    <!-- MLBB MM Server Page (Hidden by default) -->
<div id="mlbb-mm-page" style="display: none;">
    <!-- Top Bar with Back Button -->
    <div class="mm-top-bar">
        <button onclick="goBackToHome()" class="mm-back-btn">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="mm-page-title">MLBB MM Server</div>
    </div>

<!-- Weekly Pass and Miya Pass Combined -->
<div class="mm-section">
    <div class="mm-section-header">
        <i class="fas fa-star"></i> Pass
    </div>
    <div class="mm-grid-3">
        <div class="mm-card">
            <img src="https://i.ibb.co/cK8h3WvH/Grid-Art-20251216-174338901.jpg" alt="Weekly Pass" class="mm-img">
            <div class="mm-card-info">
                <div class="mm-card-name">Weekly Pass</div>
                <div class="mm-price">5,900 Ks</div>
            </div>
        </div>
        <div class="mm-card">
            <img src="https://i.ibb.co/ycM9HS3s/Grid-Art-20251229-175041122.jpg" alt="Miya Twilight Pass" class="mm-img">
            <div class="mm-card-info">
                <div class="mm-card-name">Miya Twilight Pass</div>
                <div class="mm-price">34,000 Ks</div>
            </div>
        </div>
    </div>
</div>

    <!-- Bonus Diamonds -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gift"></i> Bonus Diamonds
        </div>
        <div class="mm-grid-3">
            <div class="mm-card">
                <img src="https://i.ibb.co/xSb4kCPd/Grid-Art-20251216-174517473.jpg" alt="50+50 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">50+50 Diamonds</div>
                    <div class="mm-price">3,500 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" alt="150+150 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">150+150 Diamonds</div>
                    <div class="mm-price">1,0500 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="250+250 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">250+250 Diamonds</div>
                    <div class="mm-price">16,000 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="500+500 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">500+500 Diamonds</div>
                    <div class="mm-price">32,000 Ks</div>
                </div>
            </div>
        </div>
    </div>

    <!-- All Diamonds -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gem"></i> All Diamonds
        </div>
        <div class="mm-grid-3" id="all-diamonds-container">
            <!-- All diamonds will be inserted here -->
        </div>
    </div>
</div>


  <!-- Order Modal (Hidden by default) -->
<div id="order-modal" class="order-modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Order Form</h3>
            <button onclick="closeOrderModal()" class="close-btn">&times;</button>
        </div>
        
        <div class="modal-body">
            <!-- Payment Methods -->
            <div class="payment-methods">
                <div class="payment-info">
                    <i class="fas fa-money-bill-wave"></i>
                    <div>
                        <div class="payment-name">Wave Money</div>
                        <div class="payment-number">09989310061 ( Kaung Myat San )</div>
                    </div>
                </div>
                <div class="payment-info">
                    <i class="fas fa-money-bill-wave"></i>
                    <div>
                        <div class="payment-name">Kpay</div>
                        <div class="payment-number">09989310061 ( Kaung Myat San )</div>
                    </div>
                </div>
            </div>
            
            <!-- Order Summary -->
            <div class="order-summary">
                <div class="summary-item">
                    <span>Item:</span>
                    <span id="selected-item-name">-</span>
                </div>
                <div class="summary-item">
                    <span>Price:</span>
                    <span id="selected-item-price">-</span>
                </div>
            </div>
            
            <!-- Form Inputs -->
            <div class="form-group">
                <label for="game-id"><i class="fas fa-user"></i> Game ID</label>
                <input type="text" id="game-id" placeholder="Enter your Game ID" oninput="autoCapitalize(this)">
            </div>
            
            <div class="form-group">
                <label for="server-id"><i class="fas fa-server"></i> Server ID</label>
                <input type="text" id="server-id" placeholder="Enter your Server ID" oninput="autoCapitalize(this)">
            </div>
            
            <!-- Payment Screenshot Upload -->
            <div class="form-group">
                <label for="payment-screenshot"><i class="fas fa-camera"></i> ငွေလွှဲထားသောပုံထည့်ပါ</label>
                <div class="upload-area" id="upload-area">
                    <i class="fas fa-image"></i>
                    <p>Select from gallery</p>
                    <input type="file" id="payment-screenshot" accept="image/*" style="display: none;">
                </div>
                <div id="image-preview" style="display: none;">
                    <img id="preview-img" src="" alt="Preview">
                    <button type="button" onclick="removeImage()" class="remove-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="upload-tips">
                    <i class="fas fa-info-circle"></i> Select payment screenshot from your gallery
                </div>
            </div>
            
            <!-- Submit Button -->
            <button onclick="submitOrder()" class="submit-btn">
                <i class="fab fa-telegram"></i> Order တင်မည်
            </button>
        </div>
    </div>
</div>  
    
    <!-- History Page (Hidden by default) -->
<div id="history-page" style="display: none;">
    <!-- Top Bar with Back Button -->
    <div class="history-top-bar">
        <button onclick="goBackToHomeFromHistory()" class="history-back-btn">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="history-page-title">မှတ်တန်း</div>
        <button onclick="clearHistory()" class="history-clear-btn">
            <i class="fas fa-trash-alt"></i>
        </button>
    </div>

    <!-- History Content -->
    <div class="history-container" id="history-container">
        <!-- Orders will be loaded here -->
    </div>

    <!-- Empty State -->
    <div id="empty-history" class="empty-history" style="display: none;">
        <i class="fas fa-history"></i>
        <p>မှတ်တမ်းမရှိသေးပါ</p>
    </div>
</div>

<!-- MLBB SG Server Page -->
<div id="mlbb-sg-page" style="display: none;">
    <div class="mm-top-bar">
        <button onclick="goBackToHome()" class="mm-back-btn">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="mm-page-title">MLBB SG Server</div>
    </div>

    <!-- Weekly Pass and Twilight Pass -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-star"></i> Pass
        </div>
        <div class="mm-grid-3">
            <div class="mm-card">
                <img src="https://i.ibb.co/cK8h3WvH/Grid-Art-20251216-174338901.jpg" alt="Weekly Pass" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">Weekly Pass</div>
                    <div class="mm-price">8,800 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ycM9HS3s/Grid-Art-20251229-175041122.jpg" alt="Twilight Pass" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">Twilight Pass</div>
                    <div class="mm-price">42,000 Ks</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bonus Diamonds -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gift"></i> Bonus Diamonds
        </div>
        <div class="mm-grid-3">
            <div class="mm-card">
                <img src="https://i.ibb.co/xSb4kCPd/Grid-Art-20251216-174517473.jpg" alt="50+50 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">50+50 Diamonds</div>
                    <div class="mm-price">4,600 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" alt="150+150 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">150+150 Diamonds</div>
                    <div class="mm-price">12,600 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="250+250 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">250+250 Diamonds</div>
                    <div class="mm-price">20,600 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="500+500 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">500+500 Diamonds</div>
                    <div class="mm-price">40,600 Ks</div>
                </div>
            </div>
        </div>
    </div>

    <!-- All Diamonds for SG -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gem"></i> All Diamonds
        </div>
        <div class="mm-grid-3" id="sg-diamonds-container">
            <!-- SG diamonds will be loaded here -->
        </div>
    </div>
</div>

<!-- MLBB MA Server Page -->
<div id="mlbb-ma-page" style="display: none;">
    <div class="mm-top-bar">
        <button onclick="goBackToHome()" class="mm-back-btn">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="mm-page-title">MLBB MA Server</div>
    </div>

    <!-- Weekly Pass and Twilight Pass -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-star"></i> Pass
        </div>
        <div class="mm-grid-3">
            <div class="mm-card">
                <img src="https://i.ibb.co/cK8h3WvH/Grid-Art-20251216-174338901.jpg" alt="Weekly Pass" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">Weekly Pass</div>
                    <div class="mm-price">8,800 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ycM9HS3s/Grid-Art-20251229-175041122.jpg" alt="Twilight Pass" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">Twilight Pass</div>
                    <div class="mm-price">42,000 Ks</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bonus Diamonds -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gift"></i> Bonus Diamonds
        </div>
        <div class="mm-grid-3">
            <div class="mm-card">
                <img src="https://i.ibb.co/xSb4kCPd/Grid-Art-20251216-174517473.jpg" alt="50+50 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">50+50 Diamonds</div>
                    <div class="mm-price">4,600 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" alt="150+150 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">150+150 Diamonds</div>
                    <div class="mm-price">12,600 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="250+250 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">250+250 Diamonds</div>
                    <div class="mm-price">20,600 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="500+500 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">500+500 Diamonds</div>
                    <div class="mm-price">40,600 Ks</div>
                </div>
            </div>
        </div>
    </div>

    <!-- All Diamonds for MA -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gem"></i> All Diamonds
        </div>
        <div class="mm-grid-3" id="ma-diamonds-container">
            <!-- MA diamonds will be loaded here -->
        </div>
    </div>
</div>

<!-- MLBB ID Server Page -->
<div id="mlbb-id-page" style="display: none;">
    <div class="mm-top-bar">
        <button onclick="goBackToHome()" class="mm-back-btn">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="mm-page-title">MLBB ID Server</div>
    </div>

    <!-- Weekly Pass -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-star"></i> Weekly Pass
        </div>
        <div class="mm-grid-3">
            <div class="mm-card">
                <img src="https://i.ibb.co/cK8h3WvH/Grid-Art-20251216-174338901.jpg" alt="Weekly Pass" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">Weekly Pass</div>
                    <div class="mm-price">8,000 Ks</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bonus Diamonds -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gift"></i> Bonus Diamonds
        </div>
        <div class="mm-grid-3">
            <div class="mm-card">
                <img src="https://i.ibb.co/xSb4kCPd/Grid-Art-20251216-174517473.jpg" alt="50+50 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">50+50 Diamonds</div>
                    <div class="mm-price">4,700 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" alt="150+150 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">150+150 Diamonds</div>
                    <div class="mm-price">12,900 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="250+250 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">250+250 Diamonds</div>
                    <div class="mm-price">21,000 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="500+500 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">500+500 Diamonds</div>
                    <div class="mm-price">41,100 Ks</div>
                </div>
            </div>
        </div>
    </div>

    <!-- All Diamonds for ID -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gem"></i> All Diamonds
        </div>
        <div class="mm-grid-3" id="id-diamonds-container">
            <!-- ID diamonds will be loaded here -->
        </div>
    </div>
</div>

<!-- MLBB MCGG Server Page -->
<div id="mlbb-mcgg-page" style="display: none;">
    <div class="mm-top-bar">
        <button onclick="closeMCGGPage()" class="mm-back-btn">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="mm-page-title">MCGG Server</div>
    </div>

    <!-- Weekly Pass -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-star"></i> Weekly Pass
        </div>
        <div class="mm-grid-3">
            <div class="mm-card">
                <img src="https://i.ibb.co/cK8h3WvH/Grid-Art-20251216-174338901.jpg" alt="Weekly Pass" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">MCGG Wp Pass</div>
                    <div class="mm-price">7,600 Ks</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bonus Diamonds -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gift"></i> Bonus Diamonds
        </div>
        <div class="mm-grid-3">
            <div class="mm-card">
                <img src="https://i.ibb.co/xSb4kCPd/Grid-Art-20251216-174517473.jpg" alt="50+50 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">50+50 Diamonds</div>
                    <div class="mm-price">3,500 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" alt="150+150 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">150+150 Diamonds</div>
                    <div class="mm-price">10,000 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="250+250 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">250+250 Diamonds</div>
                    <div class="mm-price">16,000 Ks</div>
                </div>
            </div>
            <div class="mm-card">
                <img src="https://i.ibb.co/ybRx91D/Grid-Art-20251216-174656871.jpg" alt="500+500 Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">500+500 Diamonds</div>
                    <div class="mm-price">32,000 Ks</div>
                </div>
            </div>
        </div>
    </div>

    <!-- All Diamonds for MCGG -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gem"></i> All Diamonds
        </div>
        <div class="mm-grid-3" id="mcgg-diamonds-container">
            <!-- MCGG diamonds will be loaded here by JavaScript -->
        </div>
    </div>
</div>

<!-- PUBG UC Server Page -->
<div id="pubg-page" style="display: none;">
    <div class="mm-top-bar">
        <button onclick="closePUBGPage()" class="mm-back-btn">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="mm-page-title">PUBG UC </div>
    </div>

    <!-- UC Packages -->
    <div class="mm-section">
        <div class="mm-section-header">
            <i class="fas fa-gem"></i> UC Packages
        </div>
        <div class="mm-grid-3" id="pubg-uc-container">
            <!-- UC packages will be loaded here -->
        </div>
    </div>
</div>


    <div class="bottom-nav">
        <div class="nav-items">
            <a href="#" class="nav-item active">
                <div class="nav-icon"><i class="fas fa-home"></i></div>
                <div class="nav-text">Home</div>
            </a>
            <a href="#" class="nav-item">
                <div class="nav-icon"><i class="fas fa-clipboard-list"></i></div>
                <div class="nav-text">မှတ်တန်း</div>
            </a>
            <a href="#" class="nav-item">
                <div class="nav-icon"><i class="fas fa-question-circle"></i></div>
                <div class="nav-text">FAQ</div>
            </a>
        </div>
    </div>

    <script>
        // Slide management
        const slides = document.querySelectorAll('.slide');
        let currentSlide = 0;
        let slideInterval;
        const totalSlides = slides.length;
        
        function showSlide(index, direction = 'next') {
            // Remove active class from current slide
            slides[currentSlide].classList.remove('active');
            slides[currentSlide].classList.remove('leaving');
            
            // If going to previous slide, reverse animation
            if (direction === 'prev') {
                slides[currentSlide].style.transform = 'translateX(100%)';
                slides[index].style.transform = 'translateX(-100%)';
            } else {
                slides[currentSlide].style.transform = 'translateX(-100%)';
                slides[index].style.transform = 'translateX(100%)';
            }
            
            // Update current slide
            currentSlide = index;
            
            // Add active class to new slide with delay for smooth transition
            setTimeout(() => {
                slides[currentSlide].classList.add('active');
                slides[currentSlide].style.transform = 'translateX(0)';
                
                // Reset transform for other slides
                slides.forEach((slide, i) => {
                    if (i !== currentSlide) {
                        slide.style.transform = 'translateX(100%)';
                    }
                });
            }, 50);
        }
        
        function nextSlide() {
            const nextIndex = (currentSlide + 1) % totalSlides;
            showSlide(nextIndex, 'next');
        }
        
        function prevSlide() {
            const prevIndex = (currentSlide - 1 + totalSlides) % totalSlides;
            showSlide(prevIndex, 'prev');
        }
        
        function startAutoSlide() {
            slideInterval = setInterval(nextSlide, 4000);
        }
        
        function resetAutoSlide() {
            clearInterval(slideInterval);
            startAutoSlide();
        }
        
        // Touch swipe support
        let touchStartX = 0;
        let touchEndX = 0;
        
        const slidesContainer = document.querySelector('.slides-container');
        
        slidesContainer.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, {passive: true});
        
        slidesContainer.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
            resetAutoSlide();
        }, {passive: true});
        
        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    nextSlide();
                } else {
                    prevSlide();
                }
            }
        }
        
        // Initialize
        startAutoSlide();
        
        // All Diamonds Data (grouped by image)
const allDiamonds = [
    // 11-86 Diamonds
    { diamonds: 11, price: "1000 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 22, price: "1900 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 33, price: "2800 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 44, price: "3600 Ks ", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 56, price: "4500 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 86, price: "5200 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    
    // 112-963 Diamonds
    { diamonds: 112, price: "7900 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 172, price: "9900 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 257, price: "14900 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 343, price: "19600 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 429, price: "24400 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 514, price: "29200 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 600, price: "33700 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 706, price: "38600 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 792, price: "43300 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 878, price: "49000 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 963, price: "53700 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    
    // 1049-1841 Diamonds
    { diamonds: 1049, price: "57400 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 1135, price: "63100 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 1220, price: "67800 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 1412, price: "77200 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 1584, price: "86600 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 1669, price: "86600 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 1755, price: "91300 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 1841, price: "96000 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    
    // 2195-3158 Diamonds
    { diamonds: 2195, price: "114800 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 2281, price: "119500 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 2538, price: "128900 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 2901, price: "147700 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 3158, price: "162800 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    
    // 3688-9288 Diamonds
    { diamonds: 3688, price: "185300 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 4394, price: "223900 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 4566, price: "233300 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 5100, price: "261500 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 5532, price: "285000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 6055, price: "307500 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 6752, price: "346100 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 7376, price: "374300 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 8433, price: "429700 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 9288, price: "468300 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" }
];

// Format price with commas
function formatPrice(price) {
    return parseInt(price).toLocaleString();
}

// Create all diamonds in one grid
function createAllDiamonds() {
    const container = document.getElementById('all-diamonds-container');
    
    allDiamonds.forEach(item => {
        const diamondHTML = `
            <div class="mm-card">
                <img src="${item.image}" alt="${item.diamonds} Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">${item.diamonds} Diamonds</div>
                    <div class="mm-price">${formatPrice(item.price)} Ks</div>
                </div>
            </div>
        `;
        
        container.innerHTML += diamondHTML;
    });
}

// Navigation Functions
function showMMServerPage() {
    // Hide main page content
    document.querySelector('.announcement-section').style.display = 'none';
    document.querySelector('.grid-container').style.display = 'none';
    
    // Show MM Server page
    document.getElementById('mlbb-mm-page').style.display = 'block';
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
    
    // Update bottom nav
    updateBottomNav(true);
}

function goBackToHome() {
    // Show main page content
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Hide MM Server page
    document.getElementById('mlbb-mm-page').style.display = 'none';
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
    
    // Update bottom nav
    updateBottomNav(false);
}

// Update bottom navigation
function updateBottomNav(isOnMMPage) {
    const homeNav = document.querySelector('.nav-item.active');
    
    if (isOnMMPage) {
        homeNav.innerHTML = `
            <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
            <div class="nav-text">Back</div>
        `;
        homeNav.onclick = function(e) {
            e.preventDefault();
            goBackToHome();
        };
    } else {
        homeNav.innerHTML = `
            <div class="nav-icon"><i class="fas fa-home"></i></div>
            <div class="nav-text">Home</div>
        `;
        homeNav.onclick = null;
        homeNav.href = "#";
    }
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', function() {
    // Create all diamonds
    createAllDiamonds();
    
    // Make MLBB MM Server card clickable
    const mmCard = document.querySelector('.server-card:nth-child(1)');
    if (mmCard) {
        mmCard.style.cursor = 'pointer';
        mmCard.addEventListener('click', function() {
            showMMServerPage();
        });
    }
});
        
// Telegram Bot Configuration
const BOT_TOKEN = '8094270595:AAERziCUrOYf38DMOSReu1oOSEf2LLG_qS0';
const GROUP_ID = '@StarlarShopCom';

// Variables
let selectedItemName = '';
let selectedItemPrice = '';
let uploadedImage = null;
const MAX_UPLOADS_PER_IMAGE = 3; // တူညီသောပုံကို ၃ ခါသာ အော်ဒါတင်နိုင်

// Initialize when page loads
document.addEventListener('DOMContentLoaded', function() {
    // Add click events to all product cards
    const allCards = document.querySelectorAll('.mm-card');
    allCards.forEach(card => {
        card.addEventListener('click', function() {
            const itemName = this.querySelector('.mm-card-name').textContent;
            const itemPrice = this.querySelector('.mm-price').textContent;
            openOrderModal(itemName, itemPrice);
        });
    });
    
    // Setup image upload
    setupImageUpload();
});

// Auto capitalize input
function autoCapitalize(input) {
    input.value = input.value.toUpperCase();
}

// Open order modal
function openOrderModal(itemName, itemPrice) {
    selectedItemName = itemName;
    selectedItemPrice = itemPrice;
    
    document.getElementById('selected-item-name').textContent = itemName;
    document.getElementById('selected-item-price').textContent = itemPrice;
    
    // Reset form
    document.getElementById('game-id').value = '';
    document.getElementById('server-id').value = '';
    resetImageUpload();
    
    // Show modal
    document.getElementById('order-modal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

// Close order modal
function closeOrderModal() {
    document.getElementById('order-modal').style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Setup image upload
function setupImageUpload() {
    const uploadArea = document.getElementById('upload-area');
    const fileInput = document.getElementById('payment-screenshot');
    
    uploadArea.addEventListener('click', () => fileInput.click());
    
    fileInput.addEventListener('change', function(e) {
        if (e.target.files && e.target.files[0]) {
            const file = e.target.files[0];
            
            // Check file size (max 5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('ပုံအရွယ်အစား 5MB ထက်ကျော်လို့မရပါ။');
                return;
            }
            
            // Check if same image was uploaded before and has reached limit
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const imageData = e.target.result;
                const imageHash = createImageHash(imageData);
                
                // Check order count for this image
                const orderCount = getImageOrderCount(imageHash);
                
                if (orderCount >= MAX_UPLOADS_PER_IMAGE) {
                    alert(`ဒီပုံကို ${MAX_UPLOADS_PER_IMAGE} ကြိမ် အော်ဒါတင်ပြီးပါပြီ။\nမတူညီတဲ့ပုံတစ်ခုရွေးပါ။`);
                    return;
                }
                
                uploadedImage = imageData;
                document.getElementById('preview-img').src = uploadedImage;
                document.getElementById('image-preview').style.display = 'block';
                uploadArea.style.display = 'none';
            }
            
            reader.readAsDataURL(file);
        }
    });
}

// Create image hash
function createImageHash(imageData) {
    if (imageData.startsWith('data:image')) {
        const base64Data = imageData.split(',')[1] || imageData;
        return base64Data.substring(0, 1000);
    }
    return imageData;
}

// Get order count for image
function getImageOrderCount(imageHash) {
    try {
        const orderHistory = JSON.parse(localStorage.getItem('imageOrderHistory') || '[]');
        return orderHistory.filter(item => item.imageHash === imageHash).length;
    } catch (e) {
        return 0;
    }
}

// Record successful order
function recordSuccessfulOrder(imageHash) {
    try {
        const orderHistory = JSON.parse(localStorage.getItem('imageOrderHistory') || '[]');
        
        orderHistory.push({
            imageHash: imageHash,
            timestamp: Date.now(),
            date: new Date().toLocaleString()
        });
        
        // Keep only records from last 30 days
        const thirtyDaysAgo = Date.now() - 30 * 24 * 60 * 60 * 1000;
        const filteredHistory = orderHistory.filter(item => item.timestamp > thirtyDaysAgo);
        
        localStorage.setItem('imageOrderHistory', JSON.stringify(filteredHistory));
        
    } catch (e) {
        console.error('Error saving order record:', e);
        if (e.name === 'QuotaExceededError') {
            localStorage.removeItem('imageOrderHistory');
        }
    }
}

// Remove uploaded image
function removeImage() {
    uploadedImage = null;
    document.getElementById('image-preview').style.display = 'none';
    document.getElementById('upload-area').style.display = 'block';
    document.getElementById('payment-screenshot').value = '';
}

// Reset image upload
function resetImageUpload() {
    uploadedImage = null;
    document.getElementById('image-preview').style.display = 'none';
    document.getElementById('upload-area').style.display = 'block';
    document.getElementById('payment-screenshot').value = '';
}

// Submit order to Telegram
async function submitOrder() {
    const gameId = document.getElementById('game-id').value.trim();
    const serverId = document.getElementById('server-id').value.trim();
    
    // Validation
    if (!gameId) {
        alert('Game ID ထည့်ပါ');
        document.getElementById('game-id').focus();
        return;
    }
    
    if (!serverId) {
        alert('Server ID ထည့်ပါ');
        document.getElementById('server-id').focus();
        return;
    }
    
    if (!uploadedImage) {
        alert('ငွေလွှဲအတည်ပြုဓာတ်ပုံ ရွေးပါ');
        document.getElementById('upload-area').click();
        return;
    }
    
    // Show loading
    const submitBtn = document.querySelector('.submit-btn');
    const originalText = submitBtn.innerHTML;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
    submitBtn.disabled = true;
    
    try {
        // Create image hash
        const imageHash = createImageHash(uploadedImage);
        
        // Check order count for this image
        const orderCount = getImageOrderCount(imageHash);
        
        if (orderCount >= MAX_UPLOADS_PER_IMAGE) {
            alert(`ဒီပုံကို ${MAX_UPLOADS_PER_IMAGE} ကြိမ် အော်ဒါတင်ပြီးပါပြီ။\nမတူညီတဲ့ပုံတစ်ခုရွေးပါ။`);
            resetImageUpload();
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
            return;
        }
        
        // Prepare data
        const orderData = {
            itemName: selectedItemName,
            itemPrice: selectedItemPrice,
            gameId: gameId,
            serverId: serverId,
            timestamp: new Date().toLocaleString('my-MM', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            })
        };
        
        // Send to Telegram
        const success = await sendToTelegram(orderData);
        
        if (success) {
            // Record successful order
            recordSuccessfulOrder(imageHash);
            
            // Show success message
            alert('✅ အော်ဒါတင်ခြင်း အောင်မြင်ပါသည်။');
            
            closeOrderModal();
            
            // Save successful order
            saveOrderToLocalStorage(orderData);
            
            // Reset form
            document.getElementById('game-id').value = '';
            document.getElementById('server-id').value = '';
            resetImageUpload();
        } else {
            alert('❌ အော်ဒါတင်ရာမှာ အခက်အခဲရှိပါသည်။\nကျေးဇူးပြု၍ ထပ်ကြိုးစားပါ။');
        }
    } catch (error) {
        console.error('Error:', error);
        alert('❌ အမှားတစ်ခုဖြစ်သွားပါသည်။\nကျေးဇူးပြု၍ ထပ်ကြိုးစားပါ။');
    } finally {
        // Reset button
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
    }
}

// Send order to Telegram
async function sendToTelegram(orderData) {
    try {
        // Determine server name
        let serverName = '';
        
        // Check which server page is currently active
        if (document.getElementById('mlbb-mm-page').style.display === 'block') {
            serverName = 'MLBB MM Server';
        } else if (document.getElementById('mlbb-sg-page').style.display === 'block') {
            serverName = 'MLBB SG Server';
        } else if (document.getElementById('mlbb-ma-page').style.display === 'block') {
            serverName = 'MLBB MA Server';
        } else if (document.getElementById('mlbb-id-page').style.display === 'block') {
            serverName = 'MLBB ID Server';
        } else if (document.getElementById('mlbb-mcgg-page').style.display === 'block') {
            serverName = 'MLBB MCGG Server'; // MCGG အတွက်ထည့်ပါ
        } else {
            serverName = 'MLBB MM Server';
        }
        
        // Format caption message
        const caption = `🛒 *New Order Received* 🛒

🌐 *Server:* ${serverName}
📦 *Item:* ${orderData.itemName}
💰 *Price:* ${orderData.itemPrice}
🎮 *Game ID:* ${orderData.gameId}
🔢 *Server ID:* ${orderData.serverId}
📅 *Date:* ${orderData.timestamp}

💳 *Payment Screenshot Below*`;
        
        // Send single message with image and caption
        const imageBlob = dataURLtoBlob(uploadedImage);
        const formData = new FormData();
        formData.append('chat_id', GROUP_ID);
        formData.append('photo', imageBlob, 'payment.jpg');
        formData.append('caption', caption);
        formData.append('parse_mode', 'Markdown');
        
        const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
            method: 'POST',
            body: formData
        });
        
        return response.ok;
        
    } catch (error) {
        console.error('Telegram send error:', error);
        return false;
    }
}
// Convert data URL to Blob
function dataURLtoBlob(dataURL) {
    const arr = dataURL.split(',');
    const mime = arr[0].match(/:(.*?);/)[1];
    const bstr = atob(arr[1]);
    let n = bstr.length;
    const u8arr = new Uint8Array(n);
    
    while (n--) {
        u8arr[n] = bstr.charCodeAt(n);
    }
    
    return new Blob([u8arr], { type: mime });
}

// Save order to localStorage
function saveOrderToLocalStorage(orderData) {
    try {
        const orders = JSON.parse(localStorage.getItem('mlbbOrders') || '[]');
        
        orders.unshift({
            itemName: orderData.itemName,
            itemPrice: orderData.itemPrice,
            gameId: orderData.gameId,
            serverId: orderData.serverId,
            timestamp: orderData.timestamp,
            orderId: Date.now()
        });
        
        if (orders.length > 50) {
            orders.length = 50;
        }
        
        localStorage.setItem('mlbbOrders', JSON.stringify(orders));
        
    } catch (e) {
        console.error('Error saving order to localStorage:', e);
    }
}

// Save order to localStorage
function saveOrderToLocalStorage(orderData) {
    try {
        const orders = JSON.parse(localStorage.getItem('mlbbOrders') || '[]');
        
        orders.push({
            itemName: orderData.itemName,
            itemPrice: orderData.itemPrice,
            gameId: orderData.gameId,
            serverId: orderData.serverId,
            timestamp: orderData.timestamp,
            orderId: Date.now(),
            status: 'pending'
        });
        
        // Keep only last 20 orders
        if (orders.length > 20) {
            orders.shift();
        }
        
        localStorage.setItem('mlbbOrders', JSON.stringify(orders));
    } catch (e) {
        console.log('Could not save order to localStorage');
    }
}

// ============================
// History Page Functions
// ============================

function showHistoryPage() {
    // Hide main page content
    document.querySelector('.announcement-section').style.display = 'none';
    document.querySelector('.grid-container').style.display = 'none';
    
    // Hide other pages if open
    document.getElementById('mlbb-mm-page').style.display = 'none';
    
    // Show History page
    document.getElementById('history-page').style.display = 'block';
    
    // Load and display history
    loadHistory();
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
}

function goBackToHomeFromHistory() {
    // Show main page content
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Hide History page
    document.getElementById('history-page').style.display = 'none';
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
    
    // Reset bottom navigation to Home active
    updateBottomNavToHome();
}

function updateBottomNavToHome() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    // Reset all nav items
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    
    // Set Home as active
    homeNav.classList.add('active');
    
    // Reset home button to home icon
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-home"></i></div>
        <div class="nav-text">Home</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        // If on history page, go back to home
        if (document.getElementById('history-page').style.display === 'block') {
            goBackToHomeFromHistory();
        } else {
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    };
    
    // Reset history nav
    historyNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-clipboard-list"></i></div>
        <div class="nav-text">မှတ်တန်း</div>
    `;
    historyNav.onclick = function(e) {
        e.preventDefault();
        showHistoryPage();
    };
    
    // Reset FAQ nav
    faqNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-question-circle"></i></div>
        <div class="nav-text">FAQ</div>
    `;
    faqNav.onclick = function(e) {
        e.preventDefault();
        alert('FAQ စာမျက်နှာကို ထည့်သွင်းရန်လိုအပ်ပါသည်။');
    };
}

// Load and display history from localStorage
function loadHistory() {
    const container = document.getElementById('history-container');
    const emptyState = document.getElementById('empty-history');
    
    try {
        const orders = JSON.parse(localStorage.getItem('mlbbOrders') || '[]');
        
        if (orders.length === 0) {
            container.innerHTML = '';
            emptyState.style.display = 'block';
            return;
        }
        
        emptyState.style.display = 'none';
        
        container.innerHTML = '';
        
        orders.forEach(order => {
            const historyCard = createHistoryCard(order);
            container.innerHTML += historyCard;
        });
        
    } catch (error) {
        console.error('Error loading history:', error);
        container.innerHTML = '<p style="text-align: center; color: #ff6b6b; padding: 20px;">မှတ်တမ်းဖတ်ရာတွင် အမှားဖြစ်နေပါသည်။</p>';
        emptyState.style.display = 'block';
    }
}

// Create history card HTML (without status and order ID)
function createHistoryCard(order) {
    // Format date for display
    const date = new Date(order.orderId);
    const formattedDate = date.toLocaleDateString('my-MM', {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
    });
    
    return `
        <div class="history-card">
            <div class="history-header">
                <div class="history-item-name">${order.itemName}</div>
                <div class="history-price">${order.itemPrice}</div>
            </div>
            
            <div class="history-body">
                <div class="history-detail-row">
                    <div class="history-label">
                        <i class="fas fa-user"></i>
                        Game ID
                    </div>
                    <div class="history-value">${order.gameId}</div>
                </div>
                
                <div class="history-detail-row">
                    <div class="history-label">
                        <i class="fas fa-server"></i>
                        Server ID
                    </div>
                    <div class="history-value">${order.serverId}</div>
                </div>
            </div>
            
            <div class="history-footer">
                <div class="history-date">
                    <i class="far fa-clock"></i> ${formattedDate}
                </div>
            </div>
        </div>
    `;
}

// Clear all history
function clearHistory() {
    if (confirm('မှတ်တန်းအားလုံးကို ဖျက်မှာ သေချာပါသလား?\n\nဖျက်ပြီးပါက ပြန်လည်ရယူ၍မရပါ။')) {
        try {
            localStorage.removeItem('mlbbOrders');
            loadHistory();
            alert('မှတ်တန်းအားလုံး ဖျက်လိုက်ပါပြီ။');
        } catch (error) {
            console.error('Error clearing history:', error);
            alert('မှတ်တန်းဖျက်ရာတွင် အမှားတစ်ခုဖြစ်သွားပါသည်။');
        }
    }
}

// Save order to localStorage (simplified version)
function saveOrderToLocalStorage(orderData) {
    try {
        const orders = JSON.parse(localStorage.getItem('mlbbOrders') || '[]');
        
        // Add new order at the beginning (newest first)
        orders.unshift({
            itemName: orderData.itemName,
            itemPrice: orderData.itemPrice,
            gameId: orderData.gameId,
            serverId: orderData.serverId,
            timestamp: orderData.timestamp,
            orderId: Date.now()
        });
        
        // Keep only last 50 orders
        if (orders.length > 50) {
            orders.length = 50;
        }
        
        localStorage.setItem('mlbbOrders', JSON.stringify(orders));
        
    } catch (e) {
        console.error('Error saving order to localStorage:', e);
        try {
            localStorage.setItem('mlbbOrders', JSON.stringify([]));
        } catch (e2) {
            console.error('Could not clear storage:', e2);
        }
    }
}

// ============================
// Update Navigation Functions
// ============================

function showMMServerPage() {
    // Hide main page content
    document.querySelector('.announcement-section').style.display = 'none';
    document.querySelector('.grid-container').style.display = 'none';
    
    // Show MM Server page
    document.getElementById('mlbb-mm-page').style.display = 'block';
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
    
    // Update bottom nav for MM page
    updateBottomNavForMMPage();
}

function updateBottomNavForMMPage() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    
    // Reset all nav items
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    
    // Update home button to Back
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
        <div class="nav-text">Back</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        goBackToHome();
    };
    homeNav.classList.add('active');
    
    // Keep history nav functional
    historyNav.onclick = function(e) {
        e.preventDefault();
        // First go back to home, then show history
        goBackToHome();
        setTimeout(() => showHistoryPage(), 100);
    };
}

function goBackToHome() {
    // Show main page content
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Hide MM Server page
    document.getElementById('mlbb-mm-page').style.display = 'none';
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
    
    // Reset bottom navigation to Home
    updateBottomNavToHome();
}

// ============================
// Update DOMContentLoaded
// ============================

document.addEventListener('DOMContentLoaded', function() {
    // Create all diamonds
    createAllDiamonds();
    
    // Make MLBB MM Server card clickable
    const mmCard = document.querySelector('.server-card:nth-child(1)');
    if (mmCard) {
        mmCard.style.cursor = 'pointer';
        mmCard.addEventListener('click', function() {
            showMMServerPage();
        });
    }
    
    // Add click events to all product cards
    const allCards = document.querySelectorAll('.mm-card');
    allCards.forEach(card => {
        card.addEventListener('click', function() {
            const itemName = this.querySelector('.mm-card-name').textContent;
            const itemPrice = this.querySelector('.mm-price').textContent;
            openOrderModal(itemName, itemPrice);
        });
    });
    
    // Setup image upload
    setupImageUpload();
    
    // Setup bottom navigation
    setupBottomNavigation();
});

// Setup bottom navigation
function setupBottomNavigation() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    // Home button
    homeNav.onclick = function(e) {
        e.preventDefault();
        // If on history page, go back to home
        if (document.getElementById('history-page').style.display === 'block') {
            goBackToHomeFromHistory();
        }
        // If on MM page, go back to home
        else if (document.getElementById('mlbb-mm-page').style.display === 'block') {
            goBackToHome();
        }
        // If already on home, scroll to top
        else {
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    };
    
    // History button
    historyNav.onclick = function(e) {
        e.preventDefault();
        // If on MM page, first go back to home
        if (document.getElementById('mlbb-mm-page').style.display === 'block') {
            goBackToHome();
            setTimeout(() => showHistoryPage(), 100);
        } else {
            showHistoryPage();
        }
    };
    
    // FAQ button
    faqNav.onclick = function(e) {
        e.preventDefault();
        alert('FAQ စာမျက်နှာကို ထည့်သွင်းရန်လိုအပ်ပါသည်။');
    };
}

// Prevent duplicate diamonds initialization
const originalCreateAllDiamonds = createAllDiamonds;
let diamondsCreated = false;

createAllDiamonds = function() {
    if (!diamondsCreated) {
        originalCreateAllDiamonds();
        diamondsCreated = true;
    }
};

// FAQ Page Functions
function showFAQPage() {
    // Hide all other pages
    document.querySelector('.announcement-section').style.display = 'none';
    document.querySelector('.grid-container').style.display = 'none';
    
    // Hide other pages
    if (document.getElementById('mlbb-mm-page')) {
        document.getElementById('mlbb-mm-page').style.display = 'none';
    }
    if (document.getElementById('history-page')) {
        document.getElementById('history-page').style.display = 'none';
    }
    
    // Show FAQ page
    if (document.getElementById('faq-page')) {
        document.getElementById('faq-page').style.display = 'block';
    } else {
        createFAQPage();
        document.getElementById('faq-page').style.display = 'block';
    }
    
    // Hide bottom nav when showing FAQ page
    document.querySelector('.bottom-nav').style.display = 'none';
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
}

function goBackToHomeFromFaq() {
    // Show main page content
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Show bottom nav again
    document.querySelector('.bottom-nav').style.display = 'block';
    
    // Hide FAQ page completely
    if (document.getElementById('faq-page')) {
        document.getElementById('faq-page').style.display = 'none';
    }
    
    // Ensure no other pages are showing
    if (document.getElementById('mlbb-mm-page')) {
        document.getElementById('mlbb-mm-page').style.display = 'none';
    }
    if (document.getElementById('history-page')) {
        document.getElementById('history-page').style.display = 'none';
    }
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
    
    // Reset bottom navigation to Home active
    updateBottomNavToHome();
}

// Add FAQ page HTML to document
function createFAQPage() {
    // Check if FAQ page already exists
    if (document.getElementById('faq-page')) {
        return;
    }
    
    const faqPageHTML = `
    <!-- FAQ Page (Hidden by default) -->
    <div id="faq-page" style="display: none;">
        <!-- Top Bar with Back Button -->
        <div class="history-top-bar">
            <button onclick="goBackToHomeFromFaq()" class="history-back-btn">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="history-page-title">သိထားစရာများ</div>
        </div>

        <!-- FAQ Content -->
        <div class="history-container" id="faq-container" style="padding-bottom: 30px;">
            <!-- FAQ Items -->
            <div class="history-card">
                <div class="history-header">
                    <div class="history-item-name">💎 Diamonds မရောက်ရှိပါက</div>
                </div>
                <div class="history-body">
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fas fa-clock"></i>
                            စောင့်ဆိုင်းချိန်
                        </div>
                        <div class="history-value">3 နာရီထိစောင့်ပေးပါ 3 နာရီကြာလို့မရောက်ရင် လာပြောပေးပါ</div>
                    </div>
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fab fa-telegram"></i>
                            ဆက်သွယ်ရန်
                        </div>
                        <div class="history-value">Telegram Account @Starlar1 / TikTok Account @officialstarlar</div>
                    </div>
                </div>
                <div class="history-footer">
                    <div class="history-date">
                        <i class="fas fa-info-circle"></i> 3 နာရီကျော်ပါက Telegram/TikTok ကိုလာပြောပေးပါ
                    </div>
                </div>
            </div>

            <div class="history-card">
                <div class="history-header">
                    <div class="history-item-name">❌ Diamonds မရောက်ရှိခြင်း အကြောင်းရင်း</div>
                </div>
                <div class="history-body">
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fas fa-user-check"></i>
                            အဓိကအကြောင်း
                        </div>
                        <div class="history-value">Game ID / Server ID မှားခြင်း</div>
                    </div>
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fas fa-clipboard-check"></i>
                            စစ်ဆေးရန်
                        </div>
                        <div class="history-value">မှတ်တန်းထဲတွင်စစ်ဆေးပါ</div>
                    </div>
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fas fa-redo"></i>
                            ဖြေရှင်းနည်း
                        </div>
                        <div class="history-value">အော်ဒါပြန်တင်ပေးပါ</div>
                    </div>
                </div>
            </div>

            <div class="history-card">
                <div class="history-header">
                    <div class="history-item-name">🌍 Server မှားယွင်းခြင်း</div>
                </div>
                <div class="history-body">
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fas fa-exclamation-triangle"></i>
                            သင်က Myanmar Server ထဲကဝယ်ထားပါက
                        </div>
                        <div class="history-value">သင့်အကောင့်သည် Ban Server ဖြစ်နေပါက</div>
                    </div>
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fas fa-money-bill-wave"></i>
                            ဖြေရှင်းနည်း
                        </div>
                        <div class="history-value">သင့်ငွေကိုပြန်လာယူရန် ဆက်သွယ်ပါ</div>
                    </div>
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fas fa-globe-asia"></i>
                            Ban Server ဝယ်ယူနည်း
                        </div>
                        <div class="history-value">တခြား Server ထဲကနေဝယ်ပေးပါ</div>
                    </div>
                </div>
            </div>

            <div class="history-card">
                <div class="history-header">
                    <div class="history-item-name">🔒 Ban Server ဖြစ်လာပုံ</div>
                </div>
                <div class="history-body">
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fas fa-shield-alt"></i>
                            အဓိကအကြောင်း
                        </div>
                        <div class="history-value">VPN သုံးပြီးအကောင့်ဖွင့်ခြင်း</div>
                    </div>
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fas fa-lock"></i>
                            ရှောင်ရန်
                        </div>
                        <div class="history-value">Ban Server တွေက တချားက၀ယ်ပါ</div>
                    </div>
                </div>
            </div>

            <div class="history-card">
                <div class="history-header">
                    <div class="history-item-name">📢 ထုတ်လုပ်သည့် Channel</div>
                </div>
                <div class="history-body">
                    <div class="history-detail-row">
                        <div class="history-label">
                            <i class="fab fa-telegram"></i>
                            Telegram Channel
                        </div>
                        <div class="history-value">https://t.me/StarlarCompany</div>
                    </div>
                </div>
                <div class="history-footer">
                    <div class="history-date">
                        <i class="fas fa-bell"></i> Update များအတွက် Channel ကို Join ပါ
                    </div>
                </div>
            </div>
        </div>
    </div>
    `;
    
    // Add FAQ page to the document
    document.body.insertAdjacentHTML('beforeend', faqPageHTML);
}

// Update setupBottomNavigation function
function setupBottomNavigation() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    // Home button
    homeNav.onclick = function(e) {
        e.preventDefault();
        // If on history page, go back to home
        if (document.getElementById('history-page') && document.getElementById('history-page').style.display === 'block') {
            goBackToHomeFromHistory();
        }
        // If on FAQ page, go back to home
        else if (document.getElementById('faq-page') && document.getElementById('faq-page').style.display === 'block') {
            goBackToHomeFromFaq();
        }
        // If on MM page, go back to home
        else if (document.getElementById('mlbb-mm-page') && document.getElementById('mlbb-mm-page').style.display === 'block') {
            goBackToHome();
        }
        // If already on home, scroll to top
        else {
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    };
    
    // History button
    historyNav.onclick = function(e) {
        e.preventDefault();
        showHistoryPage();
    };
    
    // FAQ button
    faqNav.onclick = function(e) {
        e.preventDefault();
        // Check if FAQ page exists, if not create it
        if (!document.getElementById('faq-page')) {
            createFAQPage();
        }
        showFAQPage();
    };
}

// Update updateBottomNavForMMPage function
function updateBottomNavForMMPage() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    // Reset all nav items
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    
    // Update home button to Back
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
        <div class="nav-text">Back</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        goBackToHome();
    };
    homeNav.classList.add('active');
    
    // Keep history nav functional
    historyNav.onclick = function(e) {
        e.preventDefault();
        showHistoryPage();
    };
    
    // Keep FAQ nav functional
    faqNav.onclick = function(e) {
        e.preventDefault();
        // Check if FAQ page exists, if not create it
        if (!document.getElementById('faq-page')) {
            createFAQPage();
        }
        showFAQPage();
    };
}

// Update updateBottomNavToHome function
function updateBottomNavToHome() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    // Reset all nav items
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    
    // Set Home as active
    homeNav.classList.add('active');
    
    // Reset home button to home icon
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-home"></i></div>
        <div class="nav-text">Home</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        // If on history page, go back to home
        if (document.getElementById('history-page') && document.getElementById('history-page').style.display === 'block') {
            goBackToHomeFromHistory();
        }
        // If on FAQ page, go back to home
        else if (document.getElementById('faq-page') && document.getElementById('faq-page').style.display === 'block') {
            goBackToHomeFromFaq();
        }
        // If on MM page, go back to home
        else if (document.getElementById('mlbb-mm-page') && document.getElementById('mlbb-mm-page').style.display === 'block') {
            goBackToHome();
        }
        // If already on home, scroll to top
        else {
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    };
    
    // Reset history nav
    historyNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-clipboard-list"></i></div>
        <div class="nav-text">မှတ်တန်း</div>
    `;
    historyNav.onclick = function(e) {
        e.preventDefault();
        showHistoryPage();
    };
    
    // Reset FAQ nav
    faqNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-question-circle"></i></div>
        <div class="nav-text">FAQ</div>
    `;
    faqNav.onclick = function(e) {
        e.preventDefault();
        // Check if FAQ page exists, if not create it
        if (!document.getElementById('faq-page')) {
            createFAQPage();
        }
        showFAQPage();
    };
}

// Add these functions to existing DOMContentLoaded
document.addEventListener('DOMContentLoaded', function() {
    // Create FAQ page
    createFAQPage();
    
    // Setup bottom navigation
    setupBottomNavigation();
    
    // ... rest of your existing initialization code ...
});

// ============================
// MLBB SG Server Functions
// ============================

function showSGScreen() {
    // Hide main page content
    document.querySelector('.announcement-section').style.display = 'none';
    document.querySelector('.grid-container').style.display = 'none';
    
    // Hide other pages
    document.getElementById('mlbb-mm-page').style.display = 'none';
    document.getElementById('mlbb-ma-page').style.display = 'none';
    document.getElementById('history-page').style.display = 'none';
    if (document.getElementById('faq-page')) {
        document.getElementById('faq-page').style.display = 'none';
    }
    
    // Show SG Server page
    document.getElementById('mlbb-sg-page').style.display = 'block';
    
    // Create SG diamonds
    createSGDiamonds();
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
    
    // Update bottom nav for SG page
    updateBottomNavForSGPage();
}

function updateBottomNavForSGPage() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    // Reset all nav items
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    
    // Update home button to Back
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
        <div class="nav-text">Back</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        goBackToHome();
    };
    homeNav.classList.add('active');
    
    // Keep history nav functional
    historyNav.onclick = function(e) {
        e.preventDefault();
        showHistoryPage();
    };
    
    // Keep FAQ nav functional
    faqNav.onclick = function(e) {
        e.preventDefault();
        if (!document.getElementById('faq-page')) {
            createFAQPage();
        }
        showFAQPage();
    };
}

// ============================
// MLBB MA Server Functions
// ============================

function showMAScreen() {
    // Hide main page content
    document.querySelector('.announcement-section').style.display = 'none';
    document.querySelector('.grid-container').style.display = 'none';
    
    // Hide other pages
    document.getElementById('mlbb-mm-page').style.display = 'none';
    document.getElementById('mlbb-sg-page').style.display = 'none';
    document.getElementById('history-page').style.display = 'none';
    if (document.getElementById('faq-page')) {
        document.getElementById('faq-page').style.display = 'none';
    }
    
    // Show MA Server page
    document.getElementById('mlbb-ma-page').style.display = 'block';
    
    // Create MA diamonds
    createMADiamonds();
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
    
    // Update bottom nav for MA page
    updateBottomNavForMAPage();
}

function updateBottomNavForMAPage() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    // Reset all nav items
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    
    // Update home button to Back
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
        <div class="nav-text">Back</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        goBackToHome();
    };
    homeNav.classList.add('active');
    
    // Keep history nav functional
    historyNav.onclick = function(e) {
        e.preventDefault();
        showHistoryPage();
    };
    
    // Keep FAQ nav functional
    faqNav.onclick = function(e) {
        e.preventDefault();
        if (!document.getElementById('faq-page')) {
            createFAQPage();
        }
        showFAQPage();
    };
}

// ============================
// SG Server Diamonds Data
// ============================

const sgDiamonds = [
    { diamonds: 14, price: "1500 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 28, price: "2700 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 42, price: "3700 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 56, price: "4800 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 70, price: "5600 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 140, price: "10600 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 210, price: "15600 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 284, price: "21000 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 355, price: "25800 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 429, price: "31000 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 716, price: "51900 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 870, price: "62800 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 1145, price: "81000 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 1446, price: "103000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 2162, price: "152000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 2976, price: "211000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 3606, price: "251000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 5567, price: "386000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 7502, price: "511000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" }
];

let sgDiamondsCreated = false;

function createSGDiamonds() {
    if (sgDiamondsCreated) return;
    
    const container = document.getElementById('sg-diamonds-container');
    if (!container) return;
    
    sgDiamonds.forEach(item => {
        const diamondHTML = `
            <div class="mm-card">
                <img src="${item.image}" alt="${item.diamonds} Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">${item.diamonds} Diamonds</div>
                    <div class="mm-price">${formatPrice(item.price)} Ks</div>
                </div>
            </div>
        `;
        
        container.innerHTML += diamondHTML;
    });
    
    sgDiamondsCreated = true;
}

// ============================
// MA Server Diamonds Data
// ============================

const maDiamonds = [
    { diamonds: 14, price: "1500 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 28, price: "2700 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 42, price: "3700 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 56, price: "4800 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 70, price: "5600 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 140, price: "10600 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 210, price: "15600 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 284, price: "21000 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 355, price: "25800 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 429, price: "31000 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 716, price: "51900 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 870, price: "62800 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 1145, price: "81000 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 1446, price: "103000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 2162, price: "152000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 2976, price: "211000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 3606, price: "251000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 5567, price: "386000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 7502, price: "511000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" }
];

let maDiamondsCreated = false;

function createMADiamonds() {
    if (maDiamondsCreated) return;
    
    const container = document.getElementById('ma-diamonds-container');
    if (!container) return;
    
    maDiamonds.forEach(item => {
        const diamondHTML = `
            <div class="mm-card">
                <img src="${item.image}" alt="${item.diamonds} Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">${item.diamonds} Diamonds</div>
                    <div class="mm-price">${formatPrice(item.price)} Ks</div>
                </div>
            </div>
        `;
        
        container.innerHTML += diamondHTML;
    });
    
    maDiamondsCreated = true;
}

// ============================
// Update Existing Functions
// ============================

// Update goBackToHome function
function goBackToHome() {
    // Show main page content
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Hide all server pages
    document.getElementById('mlbb-mm-page').style.display = 'none';
    document.getElementById('mlbb-sg-page').style.display = 'none';
    document.getElementById('mlbb-ma-page').style.display = 'none';
    document.getElementById('mlbb-id-page').style.display = 'none';
    document.getElementById('history-page').style.display = 'none';
    if (document.getElementById('faq-page')) {
        document.getElementById('faq-page').style.display = 'none';
    }
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
    
    // Reset bottom navigation to Home
    updateBottomNavToHome();
}

// Format price with commas
function formatPrice(price) {
    return parseInt(price).toLocaleString();
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', function() {
    // Make server cards clickable
    const mmCard = document.querySelector('.server-card:nth-child(1)');
    const sgCard = document.querySelector('.server-card:nth-child(2)');
    const idCard = document.querySelector('.server-card:nth-child(3)');
    const maCard = document.querySelector('.server-card:nth-child(4)');
    
    // MM Server card
    if (mmCard) {
        mmCard.style.cursor = 'pointer';
        mmCard.addEventListener('click', function() {
            showMMServerPage();
        });
    }
    
    // SG Server card
    if (sgCard) {
        sgCard.style.cursor = 'pointer';
        sgCard.addEventListener('click', function() {
            openSGScreen();
        });
    }
    
    // ID Server card
    if (idCard) {
        idCard.style.cursor = 'pointer';
        idCard.addEventListener('click', function() {
            openIDScreen();
        });
    }
    
    // MA Server card
    if (maCard) {
        maCard.style.cursor = 'pointer';
        maCard.addEventListener('click', function() {
            openMAScreen();
        });
    }
    
    // Create diamonds on page load
    createSGDiamonds();
    createMADiamonds();
    createIDDiamonds();
    
    // Setup product cards for all pages
    setupProductCards();
});

// Setup product cards for all pages
function setupProductCards() {
    // Setup click events for all mm-card elements
    document.addEventListener('click', function(e) {
        const card = e.target.closest('.mm-card');
        if (card) {
            const itemName = card.querySelector('.mm-card-name')?.textContent;
            const itemPrice = card.querySelector('.mm-price')?.textContent;
            if (itemName && itemPrice) {
                openOrderModal(itemName, itemPrice);
            }
        }
    });
}

// Update updateBottomNavToHome function
function updateBottomNavToHome() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    homeNav.classList.add('active');
    
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-home"></i></div>
        <div class="nav-text">Home</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        if (document.getElementById('history-page').style.display === 'block') {
            goBackToHomeFromHistory();
        } else if (document.getElementById('faq-page') && document.getElementById('faq-page').style.display === 'block') {
            goBackToHomeFromFaq();
        } else {
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
    };
    
    historyNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-clipboard-list"></i></div>
        <div class="nav-text">မှတ်တန်း</div>
    `;
    historyNav.onclick = function(e) {
        e.preventDefault();
        showHistoryPage();
    };
    
    faqNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-question-circle"></i></div>
        <div class="nav-text">FAQ</div>
    `;
    faqNav.onclick = function(e) {
        e.preventDefault();
        if (!document.getElementById('faq-page')) {
            createFAQPage();
        }
        showFAQPage();
    };
}

// ============================
// ID Screen Control Functions
// ============================

function openIDScreen() {
    // လက်ရှိပြထားတဲ့ screen အားလုံးကို ပိတ်
    const allScreens = [
        '.announcement-section',
        '.grid-container',
        '#mlbb-mm-page',
        '#mlbb-sg-page',
        '#mlbb-ma-page',
        '#history-page',
        '#faq-page'
    ];
    
    allScreens.forEach(selector => {
        const element = document.querySelector(selector);
        if (element) {
            element.style.display = 'none';
        }
    });
    
    // ID screen ကိုပဲပြ
    const idScreen = document.getElementById('mlbb-id-page');
    if (idScreen) {
        idScreen.style.display = 'block';
    }
    
    // Bottom navigation ကိုပြင်ဆင်
    setupIDNavigation();
    
    // ထိပ်ဆုံးကိုပြန်တက်
    window.scrollTo({top: 0, behavior: 'smooth'});
}

function setupIDNavigation() {
    const homeBtn = document.querySelector('.nav-item:nth-child(1)');
    const historyBtn = document.querySelector('.nav-item:nth-child(2)');
    const faqBtn = document.querySelector('.nav-item:nth-child(3)');
    
    if (homeBtn) {
        homeBtn.innerHTML = `
            <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
            <div class="nav-text">Back</div>
        `;
        homeBtn.onclick = function(e) {
            e.preventDefault();
            closeIDScreen();
        };
        
        // Active state
        document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
        homeBtn.classList.add('active');
    }
    
    if (historyBtn) {
        historyBtn.onclick = function(e) {
            e.preventDefault();
            closeIDScreen();
            setTimeout(() => {
                if (typeof showHistoryPage === 'function') {
                    showHistoryPage();
                }
            }, 100);
        };
    }
    
    if (faqBtn) {
        faqBtn.onclick = function(e) {
            e.preventDefault();
            closeIDScreen();
            setTimeout(() => {
                if (typeof showFAQPage === 'function') {
                    showFAQPage();
                }
            }, 100);
        };
    }
}

function closeIDScreen() {
    // ID screen ကိုပိတ်
    const idScreen = document.getElementById('mlbb-id-page');
    if (idScreen) {
        idScreen.style.display = 'none';
    }
    
    // Home screen ကိုပြန်ပြ
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Navigation ကိုပြန်ပြင်ဆင်
    resetNavigation();
    
    // ထိပ်ဆုံးကိုပြန်တက်
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// ============================
// SG Screen Control Functions
// ============================

function openSGScreen() {
    // လက်ရှိပြထားတဲ့ screen အားလုံးကို ပိတ်
    const allScreens = [
        '.announcement-section',
        '.grid-container',
        '#mlbb-mm-page',
        '#mlbb-id-page',
        '#mlbb-ma-page',
        '#history-page',
        '#faq-page'
    ];
    
    allScreens.forEach(selector => {
        const element = document.querySelector(selector);
        if (element) {
            element.style.display = 'none';
        }
    });
    
    // SG screen ကိုပဲပြ
    const sgScreen = document.getElementById('mlbb-sg-page');
    if (sgScreen) {
        sgScreen.style.display = 'block';
    }
    
    // Bottom navigation ကိုပြင်ဆင်
    setupSGNavigation();
    
    // ထိပ်ဆုံးကိုပြန်တက်
    window.scrollTo({top: 0, behavior: 'smooth'});
}

function setupSGNavigation() {
    const homeBtn = document.querySelector('.nav-item:nth-child(1)');
    const historyBtn = document.querySelector('.nav-item:nth-child(2)');
    const faqBtn = document.querySelector('.nav-item:nth-child(3)');
    
    if (homeBtn) {
        homeBtn.innerHTML = `
            <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
            <div class="nav-text">Back</div>
        `;
        homeBtn.onclick = function(e) {
            e.preventDefault();
            closeSGScreen();
        };
        
        // Active state
        document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
        homeBtn.classList.add('active');
    }
    
    if (historyBtn) {
        historyBtn.onclick = function(e) {
            e.preventDefault();
            closeSGScreen();
            setTimeout(() => {
                if (typeof showHistoryPage === 'function') {
                    showHistoryPage();
                }
            }, 100);
        };
    }
    
    if (faqBtn) {
        faqBtn.onclick = function(e) {
            e.preventDefault();
            closeSGScreen();
            setTimeout(() => {
                if (typeof showFAQPage === 'function') {
                    showFAQPage();
                }
            }, 100);
        };
    }
}

function closeSGScreen() {
    // SG screen ကိုပိတ်
    const sgScreen = document.getElementById('mlbb-sg-page');
    if (sgScreen) {
        sgScreen.style.display = 'none';
    }
    
    // Home screen ကိုပြန်ပြ
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Navigation ကိုပြန်ပြင်ဆင်
    resetNavigation();
    
    // ထိပ်ဆုံးကိုပြန်တက်
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// ============================
// MA Screen Control Functions
// ============================

function openMAScreen() {
    // လက်ရှိပြထားတဲ့ screen အားလုံးကို ပိတ်
    const allScreens = [
        '.announcement-section',
        '.grid-container',
        '#mlbb-mm-page',
        '#mlbb-sg-page',
        '#mlbb-id-page',
        '#history-page',
        '#faq-page'
    ];
    
    allScreens.forEach(selector => {
        const element = document.querySelector(selector);
        if (element) {
            element.style.display = 'none';
        }
    });
    
    // MA screen ကိုပဲပြ
    const maScreen = document.getElementById('mlbb-ma-page');
    if (maScreen) {
        maScreen.style.display = 'block';
    }
    
    // Bottom navigation ကိုပြင်ဆင်
    setupMANavigation();
    
    // ထိပ်ဆုံးကိုပြန်တက်
    window.scrollTo({top: 0, behavior: 'smooth'});
}

function setupMANavigation() {
    const homeBtn = document.querySelector('.nav-item:nth-child(1)');
    const historyBtn = document.querySelector('.nav-item:nth-child(2)');
    const faqBtn = document.querySelector('.nav-item:nth-child(3)');
    
    if (homeBtn) {
        homeBtn.innerHTML = `
            <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
            <div class="nav-text">Back</div>
        `;
        homeBtn.onclick = function(e) {
            e.preventDefault();
            closeMAScreen();
        };
        
        // Active state
        document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
        homeBtn.classList.add('active');
    }
    
    if (historyBtn) {
        historyBtn.onclick = function(e) {
            e.preventDefault();
            closeMAScreen();
            setTimeout(() => {
                if (typeof showHistoryPage === 'function') {
                    showHistoryPage();
                }
            }, 100);
        };
    }
    
    if (faqBtn) {
        faqBtn.onclick = function(e) {
            e.preventDefault();
            closeMAScreen();
            setTimeout(() => {
                if (typeof showFAQPage === 'function') {
                    showFAQPage();
                }
            }, 100);
        };
    }
}

function closeMAScreen() {
    // MA screen ကိုပိတ်
    const maScreen = document.getElementById('mlbb-ma-page');
    if (maScreen) {
        maScreen.style.display = 'none';
    }
    
    // Home screen ကိုပြန်ပြ
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Navigation ကိုပြန်ပြင်ဆင်
    resetNavigation();
    
    // ထိပ်ဆုံးကိုပြန်တက်
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// ============================
// Navigation Reset Function
// ============================

function resetNavigation() {
    const homeBtn = document.querySelector('.nav-item:nth-child(1)');
    const historyBtn = document.querySelector('.nav-item:nth-child(2)');
    const faqBtn = document.querySelector('.nav-item:nth-child(3)');
    
    if (homeBtn) {
        homeBtn.innerHTML = `
            <div class="nav-icon"><i class="fas fa-home"></i></div>
            <div class="nav-text">Home</div>
        `;
        homeBtn.onclick = function(e) {
            e.preventDefault();
            window.scrollTo({top: 0, behavior: 'smooth'});
        };
        
        // Active state
        document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
        homeBtn.classList.add('active');
    }
    
    if (historyBtn) {
        historyBtn.onclick = function(e) {
            e.preventDefault();
            if (typeof showHistoryPage === 'function') {
                showHistoryPage();
            }
        };
    }
    
    if (faqBtn) {
        faqBtn.onclick = function(e) {
            e.preventDefault();
            if (typeof showFAQPage === 'function') {
                showFAQPage();
            }
        };
    }
}

// ============================
// Initialize Server Cards
// ============================

function initServerCards() {
    // SG Server Card
    const sgCard = document.querySelector('.server-card:nth-child(2)');
    if (sgCard) {
        sgCard.style.cursor = 'pointer';
        sgCard.addEventListener('click', function() {
            openSGScreen();
        });
    }
    
    // MA Server Card
    const maCard = document.querySelector('.server-card:nth-child(4)');
    if (maCard) {
        maCard.style.cursor = 'pointer';
        maCard.addEventListener('click', function() {
            openMAScreen();
        });
    }
}

// ============================
// Add to DOMContentLoaded
// ============================

document.addEventListener('DOMContentLoaded', function() {
    // Initialize server cards
    initServerCards();
    
    // Create diamonds for SG, MA, and ID
    if (typeof createSGDiamonds === 'function') {
        createSGDiamonds();
    }
    if (typeof createMADiamonds === 'function') {
        createMADiamonds();
    }
    if (typeof createIDDiamonds === 'function') {
        createIDDiamonds();
    }
});

// ============================
// MLBB ID Server Functions
// ============================

function showIDScreen() {
    // လက်ရှိပြထားတဲ့ screen အားလုံးကို ပိတ်
    const allScreens = [
        '.announcement-section',
        '.grid-container',
        '#mlbb-mm-page',
        '#mlbb-sg-page',
        '#mlbb-ma-page',
        '#history-page',
        '#faq-page'
    ];
    
    allScreens.forEach(selector => {
        const element = document.querySelector(selector);
        if (element) {
            element.style.display = 'none';
        }
    });
    
    // ID screen ကိုပဲပြ
    document.getElementById('mlbb-id-page').style.display = 'block';
    
    // Bottom navigation ကိုပြင်ဆင်
    setupIDNavigation();
    
    // ထိပ်ဆုံးကိုပြန်တက်
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// Navigation function ကို openIDScreen နဲ့ ပေါင်းလိုက်ပါ
function openIDScreen() {
    showIDScreen();
}

function setupIDNavigation() {
    const homeBtn = document.querySelector('.nav-item:nth-child(1)');
    const historyBtn = document.querySelector('.nav-item:nth-child(2)');
    const faqBtn = document.querySelector('.nav-item:nth-child(3)');
    
    if (homeBtn) {
        homeBtn.innerHTML = `
            <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
            <div class="nav-text">Back</div>
        `;
        homeBtn.onclick = function(e) {
            e.preventDefault();
            closeIDScreen();
        };
        
        // Active state
        document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
        homeBtn.classList.add('active');
    }
    
    if (historyBtn) {
        historyBtn.onclick = function(e) {
            e.preventDefault();
            closeIDScreen();
            setTimeout(() => {
                showHistoryPage();
            }, 100);
        };
    }
    
    if (faqBtn) {
        faqBtn.onclick = function(e) {
            e.preventDefault();
            closeIDScreen();
            setTimeout(() => {
                if (!document.getElementById('faq-page')) {
                    createFAQPage();
                }
                showFAQPage();
            }, 100);
        };
    }
}

function closeIDScreen() {
    // ID screen ကိုပိတ်
    document.getElementById('mlbb-id-page').style.display = 'none';
    
    // Home screen ကိုပြန်ပြ
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Navigation ကိုပြန်ပြင်ဆင်
    resetNavigation();
    
    // ထိပ်ဆုံးကိုပြန်တက်
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// Old function ကို ဖယ်ပြီး ဒီဟာကို သုံးပါ
function updateBottomNavForIDPage() {
    setupIDNavigation();
}

// ============================
// ID Server Diamonds Data
// ============================

const idDiamonds = [
    { diamonds: 5, price: "800 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 14, price: "1500 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 44, price: "3900 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 71, price: "5600 Ks", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
    { diamonds: 110, price: "8500 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 277, price: "19900 Ks", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
    { diamonds: 301, price: "21000 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 510, price: "34900 Ks", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
    { diamonds: 704, price: "49000 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 1000, price: "68000 Ks", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
    { diamonds: 1453, price: "97000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 2010, price: "129500 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 6030, price: "377000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
    { diamonds: 9660, price: "603000 Ks", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" }
];

let idDiamondsCreated = false;

function createIDDiamonds() {
    if (idDiamondsCreated) return;
    
    const container = document.getElementById('id-diamonds-container');
    if (!container) return;
    
    idDiamonds.forEach(item => {
        const diamondHTML = `
            <div class="mm-card">
                <img src="${item.image}" alt="${item.diamonds} Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">${item.diamonds} Diamonds</div>
                    <div class="mm-price">${formatPrice(item.price)} Ks</div>
                </div>
            </div>
        `;
        
        container.innerHTML += diamondHTML;
    });
    
    idDiamondsCreated = true;
}

// ============================
// Update goBackToHome Function
// ============================

function goBackToHome() {
    // ID screen ကိုပိတ်
    closeIDScreen();
    
    // ကျန်တဲ့ screen တွေလဲ ပိတ်
    const otherScreens = [
        '#mlbb-mm-page',
        '#mlbb-sg-page',
        '#mlbb-ma-page',
        '#history-page',
        '#faq-page'
    ];
    
    otherScreens.forEach(selector => {
        const element = document.getElementById(selector.replace('#', ''));
        if (element) {
            element.style.display = 'none';
        }
    });
}

// ============================
// Update DOMContentLoaded
// ============================

document.addEventListener('DOMContentLoaded', function() {
    // Make ID Server card clickable
    const idCard = document.querySelector('.server-card:nth-child(3)');
    if (idCard) {
        idCard.style.cursor = 'pointer';
        idCard.addEventListener('click', function() {
            openIDScreen();
        });
    }
    
    // Create ID diamonds on page load
    createIDDiamonds();
});

// ============================
// MCGG Server Functions
// ============================

// Open MCGG Screen Function
function openMGGGScreen() {
    console.log('Opening MCGG Screen...');
    
    // Hide all other pages
    const pagesToHide = [
        '.announcement-section',
        '.grid-container',
        '#mlbb-mm-page',
        '#mlbb-sg-page',
        '#mlbb-ma-page',
        '#mlbb-id-page',
        '#history-page'
    ];
    
    pagesToHide.forEach(selector => {
        const element = document.querySelector(selector);
        if (element) {
            element.style.display = 'none';
        }
    });
    
    // Hide FAQ page if exists
    const faqPage = document.getElementById('faq-page');
    if (faqPage) {
        faqPage.style.display = 'none';
    }
    
    // Show MCGG page
    const mcggPage = document.getElementById('mlbb-mcgg-page');
    if (mcggPage) {
        mcggPage.style.display = 'block';
        console.log('MCGG Page displayed');
        
        // Create diamonds if container exists
        createMCGGDiamonds();
        
        // Update navigation
        updateNavForMCGG();
    } else {
        console.error('MCGG page not found!');
    }
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// Close MCGG Screen Function
function closeMCGGPage() {
    console.log('Closing MCGG Screen...');
    
    // Hide MCGG page
    const mcggPage = document.getElementById('mlbb-mcgg-page');
    if (mcggPage) {
        mcggPage.style.display = 'none';
    }
    
    // Show home page
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    // Update navigation back to home
    updateNavToHome();
    
    // Scroll to top
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// Create MCGG Diamonds Function
function createMCGGDiamonds() {
    const container = document.getElementById('mcgg-diamonds-container');
    if (!container) {
        console.error('MCGG diamonds container not found!');
        return;
    }
    
    // Clear existing content
    container.innerHTML = '';
    
    // MCGG Diamonds Data
    const mcggDiamonds = [
        { diamonds: 11, price: "1100", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
        { diamonds: 86, price: "5100", image: "https://i.ibb.co/KxXJcjJP/Grid-Art-20251216-173741174.jpg" },
        { diamonds: 172, price: "10000", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
        { diamonds: 257, price: "15000", image: "https://i.ibb.co/27rgwGmb/Grid-Art-20251216-173808269.jpg" },
        { diamonds: 344, price: "20000", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
        { diamonds: 429, price: "24800", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
        { diamonds: 514, price: "29600", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
        { diamonds: 600, price: "34500", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
        { diamonds: 706, price: "39000", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
        { diamonds: 792, price: "44000", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
        { diamonds: 878, price: "48800", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
        { diamonds: 963, price: "53800", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
        { diamonds: 1049, price: "58600", image: "https://i.ibb.co/vCZ1MRp9/Grid-Art-20251216-173834490.jpg" },
        { diamonds: 1412, price: "77800", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
        { diamonds: 2195, price: "117200", image: "https://i.ibb.co/B5BV2pVb/Grid-Art-20251216-173857232.jpg" },
        { diamonds: 3688, price: "193000", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
        { diamonds: 5532, price: "288000", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" },
        { diamonds: 9288, price: "475000", image: "https://i.ibb.co/Fk2MYrMw/Grid-Art-20251216-174357817.jpg" }
    ];
    
    console.log('Creating MCGG diamonds...');
    
    mcggDiamonds.forEach(item => {
        const diamondHTML = `
            <div class="mm-card">
                <img src="${item.image}" alt="${item.diamonds} Diamonds" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">${item.diamonds} Diamonds</div>
                    <div class="mm-price">${parseInt(item.price).toLocaleString()} Ks</div>
                </div>
            </div>
        `;
        
        container.innerHTML += diamondHTML;
    });
    
    // Add click events to diamonds
    setTimeout(() => {
        const mcggCards = document.querySelectorAll('#mlbb-mcgg-page .mm-card');
        mcggCards.forEach(card => {
            card.addEventListener('click', function() {
                const itemName = this.querySelector('.mm-card-name')?.textContent;
                const itemPrice = this.querySelector('.mm-price')?.textContent;
                if (itemName && itemPrice) {
                    openOrderModal(itemName, itemPrice);
                }
            });
        });
        console.log(`Added click events to ${mcggCards.length} MCGG cards`);
    }, 100);
}

// Update Navigation for MCGG
function updateNavForMCGG() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    if (!homeNav) return;
    
    // Set home button as back button
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
        <div class="nav-text">Back</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        closeMCGGPage();
    };
    
    // Remove active from all and set home as active
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    homeNav.classList.add('active');
    
    // Set history button
    if (historyNav) {
        historyNav.onclick = function(e) {
            e.preventDefault();
            closeMCGGPage();
            setTimeout(() => {
                if (typeof showHistoryPage === 'function') {
                    showHistoryPage();
                }
            }, 100);
        };
    }
    
    // Set FAQ button
    if (faqNav) {
        faqNav.onclick = function(e) {
            e.preventDefault();
            closeMCGGPage();
            setTimeout(() => {
                if (!document.getElementById('faq-page')) {
                    createFAQPage();
                }
                if (typeof showFAQPage === 'function') {
                    showFAQPage();
                }
            }, 100);
        };
    }
}

// Update Navigation to Home
function updateNavToHome() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    if (!homeNav) return;
    
    // Reset home button
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-home"></i></div>
        <div class="nav-text">Home</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        window.scrollTo({top: 0, behavior: 'smooth'});
    };
    
    // Set active state
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    homeNav.classList.add('active');
    
    // Set history button
    if (historyNav) {
        historyNav.onclick = function(e) {
            e.preventDefault();
            if (typeof showHistoryPage === 'function') {
                showHistoryPage();
            }
        };
    }
    
    // Set FAQ button
    if (faqNav) {
        faqNav.onclick = function(e) {
            e.preventDefault();
            if (!document.getElementById('faq-page')) {
                createFAQPage();
            }
            if (typeof showFAQPage === 'function') {
                showFAQPage();
            }
        };
    }
}

// Add MCGG to existing goBackToHome function
const originalGoBackToHome = window.goBackToHome;
window.goBackToHome = function() {
    // Check if MCGG page is open
    const mcggPage = document.getElementById('mlbb-mcgg-page');
    if (mcggPage && mcggPage.style.display === 'block') {
        closeMCGGPage();
        return;
    }
    
    // Call original function for other pages
    if (originalGoBackToHome) {
        originalGoBackToHome();
    }
};

// Add MCGG to existing sendToTelegram function
const originalSendToTelegram = window.sendToTelegram;
if (originalSendToTelegram) {
    window.sendToTelegram = async function(orderData) {
        // Add MCGG server check
        const mcggPage = document.getElementById('mlbb-mcgg-page');
        if (mcggPage && mcggPage.style.display === 'block') {
            orderData.server = 'MLBB MCGG Server';
        }
        
        // Call original function
        return await originalSendToTelegram(orderData);
    };
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    console.log('Initializing MCGG Server...');
    
    // Check if MCGG card exists, if not add it
    const gridContainer = document.querySelector('.grid-container');
    const existingCards = gridContainer.querySelectorAll('.server-card');
    
    if (existingCards.length === 4) {
        console.log('Adding MCGG card to grid...');
        const mcggCardHTML = `
            <div class="server-card" onclick="openMGGGScreen()" style="cursor: pointer;">
                <div class="image-container">
                    <img src="https://i.ibb.co/gF7KLqDH/images.jpg" alt="MCGG Server" class="server-image">
                </div>
                <div class="title-container">
                    <div class="server-title">MCGG Server</div>
                </div>
            </div>
        `;
        
        gridContainer.innerHTML += mcggCardHTML;
    }
    
    // Add click events to existing MCGG cards
    setTimeout(() => {
        const existingMcggCards = document.querySelectorAll('#mlbb-mcgg-page .mm-card');
        existingMcggCards.forEach(card => {
            card.addEventListener('click', function() {
                const itemName = this.querySelector('.mm-card-name')?.textContent;
                const itemPrice = this.querySelector('.mm-price')?.textContent;
                if (itemName && itemPrice) {
                    openOrderModal(itemName, itemPrice);
                }
            });
        });
        
        console.log('MCGG Server initialized successfully');
    }, 500);
});

// ============================
// PUBG UC SERVER - COMPLETE SCRIPT
// ============================

// PUBG Server Variables
let pubgSelectedItem = { name: '', price: '' };
let pubgUploadedImage = null;
const PUBG_MAX_UPLOADS = 3;
const PUBG_BOT_TOKEN = '8094270595:AAERziCUrOYf38DMOSReu1oOSEf2LLG_qS0';
const PUBG_GROUP_ID = '@StarlarShopCom';

// Open PUBG Screen
function openPUBGScreen() {
    console.log('Opening PUBG Screen...');
    
    // Hide all pages
    hideAllPages();
    
    // Show PUBG page
    const pubgPage = document.getElementById('pubg-page');
    if (pubgPage) {
        pubgPage.style.display = 'block';
        loadPUBGPackages();
        updateNavForPUBG();
    }
    
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// Hide all pages
function hideAllPages() {
    const pages = [
        '.announcement-section',
        '.grid-container',
        '#mlbb-mm-page',
        '#mlbb-sg-page',
        '#mlbb-ma-page',
        '#mlbb-id-page',
        '#mlbb-mcgg-page',
        '#history-page'
    ];
    
    pages.forEach(selector => {
        const element = document.querySelector(selector);
        if (element) element.style.display = 'none';
    });
    
    const faqPage = document.getElementById('faq-page');
    if (faqPage) faqPage.style.display = 'none';
}

// Close PUBG Screen
function closePUBGPage() {
    const pubgPage = document.getElementById('pubg-page');
    if (pubgPage) pubgPage.style.display = 'none';
    
    // Show home
    document.querySelector('.announcement-section').style.display = 'block';
    document.querySelector('.grid-container').style.display = 'grid';
    
    updateNavToHome();
    window.scrollTo({top: 0, behavior: 'smooth'});
}

// Load PUBG UC Packages
function loadPUBGPackages() {
    const container = document.getElementById('pubg-uc-container');
    if (!container) return;
    
    container.innerHTML = '';
    
    const pubgPackages = [
        { uc: 60, price: "4,300", image: "https://i.ibb.co/4nTQ2yR0/Grid-Art-20260106-180915272.jpg" },
        { uc: 325, price: "19,000", image: "https://i.ibb.co/8gHZHZCH/Grid-Art-20260106-180941363.jpg" },
        { uc: 660, price: "37,000", image: "https://i.ibb.co/8gHZHZCH/Grid-Art-20260106-180941363.jpg" },
        { uc: 1800, price: "92,500", image: "https://i.ibb.co/3nTVk6Q/Grid-Art-20260106-181020893.jpg" },
        { uc: 3850, price: "183,000", image: "https://i.ibb.co/3nTVk6Q/Grid-Art-20260106-181020893.jpg" },
        { uc: 8100, price: "362,000", image: "https://i.ibb.co/G43kDbTN/Grid-Art-20260106-181038913.jpg" }
    ];
    
    pubgPackages.forEach(item => {
        const packageHTML = `
            <div class="mm-card" onclick="openPUBGOrder('UC ${item.uc}', '${item.price} Ks')">
                <img src="${item.image}" alt="UC ${item.uc}" class="mm-img">
                <div class="mm-card-info">
                    <div class="mm-card-name">UC ${item.uc}</div>
                    <div class="mm-price">${item.price} Ks</div>
                </div>
            </div>
        `;
        container.innerHTML += packageHTML;
    });
}

// Open PUBG Order Modal
function openPUBGOrder(itemName, itemPrice) {
    pubgSelectedItem = { name: itemName, price: itemPrice };
    
    let modal = document.getElementById('pubg-order-modal');
    
    if (!modal) {
        modal = document.createElement('div');
        modal.id = 'pubg-order-modal';
        modal.className = 'order-modal';
        modal.style.display = 'flex';
        
        modal.innerHTML = `
            <div class="modal-content">
                <div class="modal-header">
                    <h3>PUBG UC Order</h3>
                    <button onclick="closePUBGOrderModal()" class="close-btn">&times;</button>
                </div>
                
                <div class="modal-body">
                    <div class="payment-methods">
                        <div class="payment-info">
                            <i class="fas fa-money-bill-wave"></i>
                            <div>
                                <div class="payment-name">Wave Money</div>
                                <div class="payment-number">09989310061 ( Kaung Myat San )</div>
                            </div>
                        </div>
                        <div class="payment-info">
                            <i class="fas fa-money-bill-wave"></i>
                            <div>
                                <div class="payment-name">Kpay</div>
                                <div class="payment-number">09989310061 ( Kaung Myat San )</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="order-summary">
                        <div class="summary-item">
                            <span>Item:</span>
                            <span id="pubg-summary-name">${itemName}</span>
                        </div>
                        <div class="summary-item">
                            <span>Price:</span>
                            <span id="pubg-summary-price">${itemPrice}</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="pubg-game-id"><i class="fas fa-user"></i> PUBG Game ID</label>
                        <input type="text" id="pubg-game-id" placeholder="Enter your PUBG Game ID" oninput="autoCapitalize(this)">
                    </div>
                    
                    <div class="form-group">
                        <label for="pubg-payment-screenshot"><i class="fas fa-camera"></i> ငွေလွှဲထားသောပုံထည့်ပါ</label>
                        <div class="upload-area" id="pubg-upload-area" onclick="document.getElementById('pubg-payment-input').click()">
                            <i class="fas fa-image"></i>
                            <p>Select from gallery</p>
                        </div>
                        <input type="file" id="pubg-payment-input" accept="image/*" style="display: none;" onchange="handlePUBGImageUpload(event)">
                        <div id="pubg-image-preview" style="display: none; margin-top: 10px; position: relative;">
                            <img id="pubg-preview-img" src="" alt="Preview" style="width: 100%; border-radius: 10px; max-height: 200px; object-fit: cover;">
                            <button type="button" onclick="removePUBGImage()" class="remove-btn">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <button onclick="submitPUBGOrder()" class="submit-btn">
                        <i class="fab fa-telegram"></i> Order တင်မည်
                    </button>
                </div>
            </div>
        `;
        
        document.body.appendChild(modal);
    } else {
        document.getElementById('pubg-summary-name').textContent = itemName;
        document.getElementById('pubg-summary-price').textContent = itemPrice;
        modal.style.display = 'flex';
    }
    
    document.getElementById('pubg-game-id').value = '';
    removePUBGImage();
    document.body.style.overflow = 'hidden';
}

// Close PUBG Order Modal
function closePUBGOrderModal() {
    const modal = document.getElementById('pubg-order-modal');
    if (modal) modal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Handle PUBG Image Upload
function handlePUBGImageUpload(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    if (file.size > 5 * 1024 * 1024) {
        alert('ပုံအရွယ်အစား 5MB ထက်ကျော်လို့မရပါ။');
        return;
    }
    
    const reader = new FileReader();
    reader.onload = function(e) {
        pubgUploadedImage = e.target.result;
        const preview = document.getElementById('pubg-image-preview');
        const img = document.getElementById('pubg-preview-img');
        
        img.src = pubgUploadedImage;
        preview.style.display = 'block';
        document.getElementById('pubg-upload-area').style.display = 'none';
    };
    reader.readAsDataURL(file);
}

// Remove PUBG Image
function removePUBGImage() {
    pubgUploadedImage = null;
    document.getElementById('pubg-image-preview').style.display = 'none';
    document.getElementById('pubg-upload-area').style.display = 'block';
    document.getElementById('pubg-payment-input').value = '';
}

// Submit PUBG Order
async function submitPUBGOrder() {
    const gameId = document.getElementById('pubg-game-id').value.trim();
    
    if (!gameId) {
        alert('PUBG Game ID ထည့်ပါ');
        document.getElementById('pubg-game-id').focus();
        return;
    }
    
    if (!pubgUploadedImage) {
        alert('ငွေလွှဲအတည်ပြုဓာတ်ပုံ ရွေးပါ');
        return;
    }
    
    // Check image upload count
    const imageHash = createImageHash(pubgUploadedImage);
    const orderCount = getImageOrderCount(imageHash);
    
    if (orderCount >= PUBG_MAX_UPLOADS) {
        alert(`ဒီပုံကို ${PUBG_MAX_UPLOADS} ကြိမ် အော်ဒါတင်ပြီးပါပြီ။\nမတူညီတဲ့ပုံတစ်ခုရွေးပါ။`);
        removePUBGImage();
        return;
    }
    
    const submitBtn = document.querySelector('#pubg-order-modal .submit-btn');
    const originalText = submitBtn.innerHTML;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
    submitBtn.disabled = true;
    
    try {
        const orderData = {
            itemName: pubgSelectedItem.name,
            itemPrice: pubgSelectedItem.price,
            gameId: gameId,
            serverId: "No Server",
            timestamp: new Date().toLocaleString('my-MM', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            })
        };
        
        const success = await sendPUBGToTelegram(orderData);
        
        if (success) {
            // Record successful order
            recordSuccessfulOrder(imageHash);
            
            // Save to history
            savePUBGOrderToHistory(orderData);
            
            alert('✅ အော်ဒါတင်ခြင်း အောင်မြင်ပါသည်။');
            closePUBGOrderModal();
        } else {
            alert('❌ အော်ဒါတင်ရာမှာ အခက်အခဲရှိပါသည်။');
        }
    } catch (error) {
        console.error('Error:', error);
        alert('❌ အမှားတစ်ခုဖြစ်သွားပါသည်။');
    } finally {
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
    }
}

// Send PUBG Order to Telegram (Simple Format)
async function sendPUBGToTelegram(orderData) {
    try {
        // SIMPLE MESSAGE - NO EXTRA TEXT
        const caption = `PUBG UC Order\nItem: ${orderData.itemName}\nPrice: ${orderData.itemPrice}\nGame ID: ${orderData.gameId}\nDate: ${orderData.timestamp}`;

        const imageBlob = dataURLtoBlob(pubgUploadedImage);
        const formData = new FormData();
        formData.append('chat_id', PUBG_GROUP_ID);
        formData.append('photo', imageBlob, 'payment.jpg');
        formData.append('caption', caption);
        
        const response = await fetch(`https://api.telegram.org/bot${PUBG_BOT_TOKEN}/sendPhoto`, {
            method: 'POST',
            body: formData
        });
        
        return response.ok;
        
    } catch (error) {
        console.error('Telegram send error:', error);
        return false;
    }
}

// Save PUBG Order to History (in mlbbOrders)
function savePUBGOrderToHistory(orderData) {
    try {
        const orders = JSON.parse(localStorage.getItem('mlbbOrders') || '[]');
        
        orders.unshift({
            itemName: orderData.itemName,
            itemPrice: orderData.itemPrice,
            gameId: orderData.gameId,
            serverId: orderData.serverId,
            timestamp: orderData.timestamp,
            orderId: Date.now(),
            gameType: "PUBG"
        });
        
        if (orders.length > 50) {
            orders.length = 50;
        }
        
        localStorage.setItem('mlbbOrders', JSON.stringify(orders));
        console.log('PUBG order saved to history');
        
    } catch (e) {
        console.error('Error saving PUBG order:', e);
    }
}

// Update Navigation for PUBG
function updateNavForPUBG() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    if (!homeNav) return;
    
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-arrow-left"></i></div>
        <div class="nav-text">Back</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        closePUBGPage();
    };
    
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    homeNav.classList.add('active');
    
    if (historyNav) {
        historyNav.onclick = function(e) {
            e.preventDefault();
            closePUBGPage();
            setTimeout(() => {
                if (typeof showHistoryPage === 'function') {
                    showHistoryPage();
                }
            }, 100);
        };
    }
    
    if (faqNav) {
        faqNav.onclick = function(e) {
            e.preventDefault();
            closePUBGPage();
            setTimeout(() => {
                if (!document.getElementById('faq-page')) {
                    createFAQPage();
                }
                if (typeof showFAQPage === 'function') {
                    showFAQPage();
                }
            }, 100);
        };
    }
}

// Update Navigation to Home
function updateNavToHome() {
    const homeNav = document.querySelector('.nav-item:nth-child(1)');
    const historyNav = document.querySelector('.nav-item:nth-child(2)');
    const faqNav = document.querySelector('.nav-item:nth-child(3)');
    
    if (!homeNav) return;
    
    homeNav.innerHTML = `
        <div class="nav-icon"><i class="fas fa-home"></i></div>
        <div class="nav-text">Home</div>
    `;
    homeNav.onclick = function(e) {
        e.preventDefault();
        window.scrollTo({top: 0, behavior: 'smooth'});
    };
    
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    homeNav.classList.add('active');
    
    if (historyNav) {
        historyNav.onclick = function(e) {
            e.preventDefault();
            if (typeof showHistoryPage === 'function') {
                showHistoryPage();
            }
        };
    }
    
    if (faqNav) {
        faqNav.onclick = function(e) {
            e.preventDefault();
            if (!document.getElementById('faq-page')) {
                createFAQPage();
            }
            if (typeof showFAQPage === 'function') {
                showFAQPage();
            }
        };
    }
}

// Helper Functions
function dataURLtoBlob(dataURL) {
    const arr = dataURL.split(',');
    const mime = arr[0].match(/:(.*?);/)[1];
    const bstr = atob(arr[1]);
    let n = bstr.length;
    const u8arr = new Uint8Array(n);
    
    while (n--) {
        u8arr[n] = bstr.charCodeAt(n);
    }
    
    return new Blob([u8arr], { type: mime });
}

function autoCapitalize(input) {
    if (input && input.value) {
        input.value = input.value.toUpperCase();
    }
}

function createImageHash(imageData) {
    if (imageData.startsWith('data:image')) {
        const base64Data = imageData.split(',')[1] || imageData;
        return base64Data.substring(0, 1000);
    }
    return imageData;
}

function getImageOrderCount(imageHash) {
    try {
        const orderHistory = JSON.parse(localStorage.getItem('imageOrderHistory') || '[]');
        return orderHistory.filter(item => item.imageHash === imageHash).length;
    } catch (e) {
        return 0;
    }
}

function recordSuccessfulOrder(imageHash) {
    try {
        const orderHistory = JSON.parse(localStorage.getItem('imageOrderHistory') || '[]');
        
        orderHistory.push({
            imageHash: imageHash,
            timestamp: Date.now(),
            date: new Date().toLocaleString()
        });
        
        const thirtyDaysAgo = Date.now() - 30 * 24 * 60 * 60 * 1000;
        const filteredHistory = orderHistory.filter(item => item.timestamp > thirtyDaysAgo);
        
        localStorage.setItem('imageOrderHistory', JSON.stringify(filteredHistory));
        
    } catch (e) {
        console.error('Error saving order record:', e);
    }
}

// Initialize PUBG on page load
document.addEventListener('DOMContentLoaded', function() {
    // Add PUBG card click event
    setTimeout(() => {
        const pubgCards = document.querySelectorAll('.server-card');
        pubgCards.forEach(card => {
            const title = card.querySelector('.server-title');
            if (title && title.textContent.includes('PUBG')) {
                card.onclick = function() {
                    openPUBGScreen();
                };
                card.style.cursor = 'pointer';
            }
        });
        
        // Load PUBG packages if on PUBG page
        if (document.getElementById('pubg-uc-container')) {
            loadPUBGPackages();
        }
    }, 1000);
});

// Make sure existing functions don't conflict
if (typeof openOrderModal !== 'undefined') {
    // Keep original function but add PUBG check
    const originalOpenOrderModal = openOrderModal;
    window.openOrderModal = function(itemName, itemPrice) {
        // Check if we're on PUBG page
        const pubgPage = document.getElementById('pubg-page');
        if (pubgPage && pubgPage.style.display === 'block') {
            openPUBGOrder(itemName, itemPrice);
        } else {
            originalOpenOrderModal(itemName, itemPrice);
        }
    };
}

// Update History Page to show PUBG orders
(function() {
    // Override createHistoryCard to handle PUBG orders
    const originalCreateHistoryCard = window.createHistoryCard;
    if (originalCreateHistoryCard) {
        window.createHistoryCard = function(order) {
            // Check if this is a PUBG order
            if (order.itemName && order.itemName.includes('UC')) {
                // For PUBG orders
                const date = new Date(order.orderId);
                const formattedDate = date.toLocaleDateString('my-MM', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                return `
                    <div class="history-card">
                        <div class="history-header">
                            <div class="history-item-name">${order.itemName}</div>
                            <div class="history-price">${order.itemPrice}</div>
                        </div>
                        
                        <div class="history-body">
                            <div class="history-detail-row">
                                <div class="history-label">
                                    <i class="fas fa-user"></i>
                                    PUBG Game ID
                                </div>
                                <div class="history-value">${order.gameId}</div>
                            </div>
                            
                            <div class="history-detail-row">
                                <div class="history-label">
                                    <i class="fas fa-gamepad"></i>
                                    Game Type
                                </div>
                                <div class="history-value">PUBG</div>
                            </div>
                        </div>
                        
                        <div class="history-footer">
                            <div class="history-date">
                                <i class="far fa-clock"></i> ${formattedDate}
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // For non-PUBG orders, use original function
            return originalCreateHistoryCard(order);
        };
    }
})();

    </script>
</body>
</html>